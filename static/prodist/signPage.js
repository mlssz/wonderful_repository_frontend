webpackJsonp([1],{1075:function(e,t,a){e.exports=a(405)},139:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=void 0!==e.others&&e.others instanceof Object?e.others:{},a=[],n=d.default;switch(t.onTouchTap=e.onTouchTap,e.type){case 1:t.primary=!0;break;case 2:t.secondary=!0}switch(e.btype){case 1:n=m.default;break;case 2:n=y.default}return e.disabled&&(t.disabled=!0),"string"==typeof e.label?t.label=e.label:a.push(e.label),c.default.createElement.apply(c.default,[n,t].concat(a))}Object.defineProperty(t,"__esModule",{value:!0}),t.CenterButtons=void 0;var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.suitButton=i;var s=a(2),c=n(s),f=a(36),d=n(f),p=a(29),m=n(p),h=a(340),y=n(h),b=t.CenterButtons=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.buttons.reduce(function(e,t){return e+32+13.5*t.label.length},0),t={margin:"0 auto",width:e},a=this.props.buttons.map(i),n=Object.assign({},t,this.props.style);return c.default.createElement("div",{style:n},a)}}]),t}(s.Component);b.propTypes={style:c.default.PropTypes.object,buttons:c.default.PropTypes.arrayOf(c.default.PropTypes.object).isRequired},b.defaultProps={style:{}};var g=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.mainStyle={display:"flex",justifyContent:"space-between",alignItems:"center"},a}return o(t,e),u(t,[{key:"render",value:function(){for(var e in this.props.style)this.mainStyle[e]=this.props.style[e];var t=this.props.buttons.map(i);return c.default.createElement("div",{style:this.mainStyle},t)}}]),t}(s.Component);t.default=g,g.propTypes={style:c.default.PropTypes.object,buttons:c.default.PropTypes.arrayOf(c.default.PropTypes.object).isRequired},g.defaultProps={style:{}}},140:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.printable_table=t.general_table=t.key_value_table=void 0;var r=a(2),l=n(r),o=a(40),i=a(29),u=n(i),s=a(23);t.key_value_table=function(e){if(void 0!==e)return l.default.createElement(o.Table,null,l.default.createElement(o.TableBody,{displayRowCheckbox:!1,stripedRows:!0,selectable:!1},Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t,a){return l.default.createElement(o.TableRow,{key:a},l.default.createElement(o.TableRowColumn,{style:{overflow:"visible"}},t),l.default.createElement(o.TableRowColumn,{style:{overflow:"visible"}},e[t]))})))},t.general_table=function(e,t,a){return l.default.createElement(o.Table,null,l.default.createElement(o.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!1},l.default.createElement(o.TableRow,null,e.map(function(e,t){return l.default.createElement(o.TableHeaderColumn,{key:t},e[0])}))),l.default.createElement(o.TableBody,{displayRowCheckbox:!1,stripedRows:!0,selectable:!1},t.map(function(n,r){return l.default.createElement(o.TableRow,{key:r,onTouchTap:function(){return a&&a(n,r,t)}},e.map(function(e){return l.default.createElement(o.TableRowColumn,{style:{overflow:"visible"}},n[e[1]])}))})))},t.printable_table=function(e,t,a,n,r){var i=function(){var a=new Table2Excel,n=e+(0,s.parsetime)(new Date,2);a.export(document.getElementsByClassName(t)[1],n)};return l.default.createElement("div",{style:{textAlign:"right"}},l.default.createElement(u.default,{label:"打印",onTouchTap:i}),l.default.createElement(o.Table,{className:t},l.default.createElement(o.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!1},l.default.createElement(o.TableRow,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},a.map(function(e,t){return l.default.createElement(o.TableHeaderColumn,{style:{fontWeight:"bold",color:"black"},key:t},e[0])}))),l.default.createElement(o.TableBody,{displayRowCheckbox:!1,stripedRows:!1,selectable:!1},n.map(function(e,t){return l.default.createElement(o.TableRow,{key:t,onTouchTap:function(){return r&&r(e,t,n)}},a.map(function(t){return l.default.createElement(o.TableRowColumn,{style:{overflow:"visible"}},e[t[1]])}))}))))}},141:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={100:"物资处于正确位置中",101:"物资已出库",200:"物资信息录入完毕，正在搬运入库",201:"物资从原位置搬运到一个新的位置",202:"物资正在搬运出库",300:"物资信息录入完毕，未入库",301:"物资位置在系统中已变换，但是未搬运到新的位置",302:"物资在系统中已申请出库，但是未搬运出库",303:"物资位置错误",400:"物资找不到"},r={500:"移动入库",501:"移动到新位置",502:"移动出库",601:"校正物资错误位置",602:"修复系统无法识别问题"},l={0:"未开始",1:"进行中",2:"完成",3:"任务取消"},o={0:"管理员",1:"员工",99:"root"},i={1:"位置错误",2:"无法识别"},u=(t.humanise_schedule=function(e){var t=e.type,a=new Date(e.time),n=e.other;if(-1===t)return"未设置";if(0===t)return"每天 "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" 自动盘点";if(1===t)return"每周 周"+(n+1)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" 自动盘点";if(2===t)return"每月 "+(n+1)+"号 "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" 自动盘点";if(3===t){var r=Math.floor(n/86400);n%=86400;var l=Math.floor(n/3600);n%=3600;var o=Math.floor(n/60);n%=60;var i="";return 0!==r&&(i+=r+"天"),0!==l&&(i+=l+"小时"),0!==o&&(i+=o+"分钟"),0!==n&&(i+=n+"秒"),"从 "+u(a)+" 起每隔 "+i+" 盘点一次"}},t.humanise_error_code=function(e){return i[e]||"Invalid"},t.humanise_task_var=function(e){return(e<100?l[e]:r[e])||"Invalid"},t.humanise_material_var=function(e){return n[e]||"Invalid"},t.humanise_staff_var=function(e){return o[e]||"Invalid"},t.humanise_material_position=function(e,t,a){return 0===e?"入库":-1===e?"出库":e+"仓"+t+"号位置"+a},t.humanise_date=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()})},180:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortById=function(e,t){return e.id>t.id},t.sortByType=function(e,t){return e.type.charCodeAt(0)<t.type.charCodeAt(0)},t.sortByNum=function(e,t){return e.number>t.number},t.sortByImportTime=function(e,t){return+new Date(e.import_time)>+new Date(t.import_time)},t.sortByOutTime=function(e,t){return+new Date(e.estimated_export_time)>+new Date(t.estimated_export_time)},t.sortByMoveTime=function(e,t){return+new Date(e.location_update_time)>+new Date(t.location_update_time)},t.sortByPlace=function(e,t){if(e.repository_id>t.repository_id)return!0;if(e.repository_id===t.repository_id){if(e.location_id>t.location_id)return console.log(e.repository_id,t.repository_id),console.log(e.location_id,t.location_id),!0;if(e.location_id===t.location_id&&e.layer>t.layer)return!0}return!1}},181:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortById=function(e,t){return e.material.id>t.material.id},t.sortByType=function(e,t){return e.material.type.charCodeAt(0)<t.material.type.charCodeAt(0)},t.sortByNum=function(e,t){return e.number>t.number},t.sortByImportTime=function(e,t){return+new Date(e.material.import_time)>+new Date(t.material.import_time)},t.sortByFromPlace=function(e,t){var a=e.material,n=t.material;if(a.from_repository>n.from_repository)return!0;if(a.from_repository===n.from_repository){if(a.from_location>n.from_location)return!0;if(a.from_location===n.from_location&&a.from_layer>n.from_layer)return!0}return!1},t.sortByToPlace=function(e,t){var a=e.material,n=t.material;if(a.to_repository>n.to_repository)return!0;if(a.to_repository===n.to_repository){if(a.to_location>n.to_location)return!0;if(a.to_location===n.to_location&&a.to_layer>n.to_layer)return!0}return!1}},23:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.testMigrations=t.testGoods=t.testOut=t.testMove=t.testTask=t.downloadBarCode=t.copyObj=t.makeId=t.randomNum=t.objIsEmpty=t.parseTaskPlace=t.parsePlace=t.parsetime=t.parseParams=t.changeHash=t.paperStyle=t.formName=t.titleMap=t.status=t.styles=t.types=void 0;var r,l=a(767),o=function(e){return e&&e.__esModule?e:{default:e}}(l),i=(t.types={"生活电器":["生活电器","生活电器"],"电脑办公":["电脑办公"],"衣物服饰":["衣物服饰"],"酒水饮料":["酒水饮料"],"食品生鲜":["食品生鲜"]},t.styles={container:{display:"flex",flexDirection:"column",padding:"0 20 20 20"},formItem:{width:150,marginRight:30}},t.status={100:"仓库中",101:"已出库",200:"正在入库",201:"正在移动",202:"正在出库",300:"未入库",301:"未移动",302:"未出库",303:"位置错误",304:"物品失踪"},t.titleMap={"":"统计","#":"统计","#stat":"统计","#check":"盘点","#putaway":"入库登记","#putawayEnsure":"入库管理","#putawayManage":"入库管理","#move":"移动登记","#moveEnsure":"移动管理","#moveManage":"移动管理","#out":"出库登记","#outEnsure":"出库管理","#outManage":"出库管理","#goodsManage":"物品管理","#stat_good_type":"货物类型统计","#stat_task_number":"任务数量统计","#stat_good_time":"入库时长统计"},t.formName=(r={id:"物资编号",type:"物资类型",description:"物资描述",import_time:"入库时间",estimated_export_time:"估计出库时间",num:"物资数量"},n(r,"id","物资编号"),n(r,"to","目的位置"),n(r,"from","原始位置"),r),t.paperStyle={width:"80%",minWidth:840,margin:"20 auto"},t.changeHash=function(e){window.location.hash=="#"+e?window.location.reload():window.location.hash=e},t.parseParams=function(){return window.location.hash.slice(1)},t.parsetime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===e)return"";var a=new Date(e);return 1===t?a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds():2===t?a.getFullYear().toString().slice(2)+(a.getMonth()+1)+a.getDate()+a.getHours()+a.getMinutes()+a.getSeconds():a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},t.parsePlace=function(e){return-1===e.repository_id||0===e.repository?"----":e.repository_id+" 仓 "+(e.location_id+1)+" 架 "+(e.layer+1)+" 层 "},t.parseTaskPlace=function(e){var t=e.from_repository+" 仓 "+(e.from_location+1)+" 架 "+(e.from_layer+1)+" 层 ",a=e.to_repository+" 仓 "+(e.to_location+1)+" 架 "+(e.to_layer+1)+" 层 ";return 0!==e.to_repository&&-1!==e.to_repository||(a="----"),0!==e.from_repository&&-1!==e.from_repository||(t="----"),[t,a]},t.objIsEmpty=function(e){var t=[];for(var a in e)0!==e[a]&&"0"!==e[a]&&("type"===a&&(e[a][0]||t.push("type"),e[a][1]||t.push("detail")),e[a]||t.push(a));return[!!t.length,t]},t.randomNum=function(e,t){return Math.floor(Math.random()*(t-e)+e)});t.makeId=function(){var e=new Date,t=e.getFullYear().toString().slice(2,4),a=(e.getMonth()+1).toString();1===a.length&&(a="0"+a);var n=e.getDay().toString();1===n.length&&(n="0"+n);var r=e.getSeconds().toString();return 1===r.length&&(r="0"+r),t+a+n+i(1e3,9999)+r},t.copyObj=function(e){var t={};for(var a in e)t[a]=boj[a];return t},t.downloadBarCode=function(e){function t(e){for(var t=e.split(";base64,"),a=t[0].split(":")[1],n=window.atob(t[1]),r=n.length,l=new Uint8Array(r),o=0;o<r;++o)l[o]=n.charCodeAt(o);return new Blob([l],{type:a})}var a=document.createElement("canvas");(0,o.default)(a,e),function(e,a){var n=document.createElement("a"),r=t(a),l=document.createEvent("HTMLEvents");l.initEvent("click",!1,!1),n.download=e,n.href=URL.createObjectURL(r),n.dispatchEvent(l),n.click()}(e+".png",a.toDataURL("image/png"))},t.testTask=[{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451593158,type:"生活电器-生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:-1,from_location:0,from_layer:0,to_repository:5,to_location:7,to_layer:2,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}},{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451593200,type:"酒水饮料-酒水饮料",description:"wonderful repository",import_time:"2017-04-05T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:-1,from_location:1,from_layer:0,to_repository:1,to_location:1,to_layer:0,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}}],t.testMove=[{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451599188,type:"生活电器-生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:2,from_location:7,from_layer:0,to_repository:1,to_location:1,to_layer:4,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}},{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491410563200,type:"酒水饮料-酒水饮料",description:"wonderful repository",import_time:"2017-04-05T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:1,from_location:1,from_layer:3,to_repository:2,to_location:1,to_layer:0,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}}],t.testOut=[{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451599188,type:"生活电器-生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:4,from_location:8,from_layer:1,to_repository:0,to_location:1,to_layer:4,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}},{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491410563200,type:"酒水饮料-酒水饮料",description:"wonderful repository",import_time:"2017-01-10T04:57:36.801Z",estimated_export_time:"2017-02-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:1,from_location:8,from_layer:4,to_repository:0,to_location:1,to_layer:0,last_migrations:"1234",location_update_time:"2017-01-10T04:57:36.801Z"}}],t.testGoods=[{_id:"dsafdsaf32141314",number:133412,id:1491420493158,type:"酒水饮料",description:"wonderful repository",import_time:"2017-02-06T04:57:36.801Z",estimated_export_time:"2017-08-06T04:57:36.801Z",height:1,width:1,length:2,repository_id:2,location_id:1,layer:2,status:300,last_migrations:"1234",location_update_time:"2017-04-29T04:57:36.801Z"},{_id:"dsafdsaf32141314",number:133412,id:1491056593158,type:"生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,repository_id:1,location_id:9,layer:2,status:300,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"},{_id:"dsafdsaf32141314",number:133412,id:1491439573158,type:"生活电器",description:"wonderful repository",import_time:"2017-02-20T04:57:36.801Z",estimated_export_time:"2017-02-25T04:57:36.801Z",height:1,width:1,length:2,repository_id:2,location_id:3,layer:1,status:300,last_migrations:"1234",location_update_time:"2017-02-20T04:57:36.801Z"},{_id:"dsafdsaf32141314",number:133412,id:1491451593158,type:"生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-10-20T04:57:36.801Z",height:1,width:1,length:2,repository_id:1,location_id:8,layer:2,status:300,last_migrations:"1234",location_update_time:"2017-08-18T04:57:36.801Z"}],t.testMigrations=[{_id:"dsafdsaf32141314",material:"dsafdsaf32141314",date:"2017-04-06T04:57:36.801Z",from_repository:1,from_location:12,from_layer:0,to_repository:1,to_location:3,to_layer:0},{_id:"dsafdsaf32141314",material:"dsafdsaf32141314",date:"2017-04-06T04:57:36.801Z",from_repository:1,from_location:4,from_layer:0,to_repository:1,to_location:12},{_id:"dsafdsaf32141314",material:"dsafdsaf32141314",date:"2017-04-06T04:57:36.801Z",from_repository:1,from_location:23,from_layer:0,to_repository:1,to_location:4,to_layer:0},{_id:"dsafdsaf32141314",material:"dsafdsaf32141314",date:"2017-04-06T04:57:36.801Z",from_repository:0,from_location:0,from_layer:0,to_repository:1,to_location:23,to_layer:0}]},257:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCtlTextField=t.ConfirmCtlTextField=t.LenCtlTextField=t.RegCtlTextField=t.lenJudger=t.regJudger=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(2),c=n(s),f=a(51),d=n(f),p=t.regJudger=function(e){return function(t){return e.test(t)}},m=t.lenJudger=function(e,t){return function(a){var n=a.length;return n>e&&n<t}},h=t.RegCtlTextField=function(e){return c.default.createElement(g,u({},e,{judgeFunc:p(e.reg)}))};h.propTypes={reg:c.default.PropTypes.object,errString:c.default.PropTypes.string},h.defaultProps={reg:/don"t forget it/i,errString:"Please input suit value!"};var y=t.LenCtlTextField=function(e){return c.default.createElement(g,u({},e,{judgeFunc:m(e.minl,e.maxl)}))};y.propTypes={minl:c.default.PropTypes.number,maxl:c.default.PropTypes.number,errString:c.default.PropTypes.string},y.defaultProps={minl:0,maxl:100,errString:"Length of text mast between 0 and 100!"};var b=t.ConfirmCtlTextField=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={upValue:"",downValue:"",upIsErr:!1,upErrString:"",downErrString:""},a.divDefaultStyle={display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column"},a.tfDivDefaultStyle={margin:"10px 0",height:88},a.confirmJudgeFunc=a.confirmJudgeFunc.bind(a),a.upHandleOnChange=a.upHandleOnChange.bind(a),a.upHandleOnBlur=a.upHandleOnBlur.bind(a),a.downHandleOnBlur=a.downHandleOnBlur.bind(a),a.downHandleOnChange=a.downHandleOnChange.bind(a),a}return o(t,e),i(t,[{key:"confirmJudgeFunc",value:function(){var e=this.state;e.upValue.length>0&&e.downValue.length>0&&(e.upValue===e.downValue?(this.setState({downErrString:""}),this.props.callback(e.upValue)):(this.setState({downErrString:this.props.confirmErrString}),this.props.errCallback(e.upValue,e.downValue)))}},{key:"upHandleOnChange",value:function(e){this.setState({upValue:e.target.value}),!1!==this.state.upIsErr&&(this.props.judgeFunc(e.target.upValue)?this.setState({upErrString:""}):this.setState({upErrString:this.props.errString}))}},{key:"upHandleOnBlur",value:function(){this.props.judgeFunc(this.state.upValue)?(this.setState({upIsErr:!1,upErrString:""}),this.confirmJudgeFunc()):(this.setState({upIsErr:!0,upErrString:this.props.errString}),this.props.errCallback(this.state.upValue,this.state.downValue))}},{key:"downHandleOnChange",value:function(e){this.setState({downValue:e.target.value})}},{key:"downHandleOnBlur",value:function(){this.confirmJudgeFunc()}},{key:"render",value:function(){var e=Object.assgin({},this.divDefaultStyle,this.props.divStyle),t=Object.assgin({},this.tfDivDefaultStyle,this.props.tfStyle);return c.default.createElement("div",{style:e},c.default.createElement("div",{style:t},c.default.createElement(d.default,u({},this.props,{type:"password",errorText:this.state.upErrString,onChange:this.upHandleOnChange,onBlur:this.upHandleOnBlur}))),c.default.createElement("div",{style:t},c.default.createElement(d.default,{floatingLabelText:"Input Again",type:"password",errorText:this.state.downErrString,onChange:this.downHandleOnChange,onBlur:this.downHandleOnBlur})))}}]),t}(s.Component);b.propTypes={divStyle:c.default.PropTypes.object,tfStyle:c.default.PropTypes.object,errString:c.default.PropTypes.string,confirmErrString:c.default.PropTypes.string,errCallback:c.default.PropTypes.func,callback:c.default.PropTypes.func},b.defaultProps={divStyle:{},tfStyle:{margin:"10px 0"},errCallback:function(){return console.log("error value")},callback:function(){return console.log("true value")},errString:"Your input is wrong",confirmErrString:"Two inputs don't match the confirmation"};var g=t.BaseCtlTextField=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n="",o="",i=a.props.judgeFunc;return a.props.value&&(n=a.props.value,o=i(n)?"":a.props.errString),a.state={isError:0,value:n,errValue:o},a.ctlJudge_and_changeText=a.ctlJudge_and_changeText.bind(a),a.handleOnChange=a.handleOnChange.bind(a),a.handleOnBlur=a.handleOnBlur.bind(a),a}return o(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?e.value:"";t!==this.state.value&&this.handleOnChange(null,t)}},{key:"ctlJudge_and_changeText",value:function(e,t){var a=this.state.value;(0,this.props.judgeFunc)(a)?(this.setState({errValue:""}),e&&e(a)):(this.setState({errValue:this.props.errString}),t&&t(a))}},{key:"handleOnChange",value:function(e,t){this.setState({value:t}),1===this.state.isError&&this.ctlJudge_and_changeText()}},{key:"handleOnBlur",value:function(){var e=this;this.ctlJudge_and_changeText(function(t){e.setState({isError:0}),e.props.callback(t)},function(t){e.setState({isError:1}),e.props.errCallback(t)})}},{key:"render",value:function(){return c.default.createElement(d.default,u({},this.props.textprops,{value:this.state.value,errorText:this.state.errValue,onChange:this.handleOnChange,onBlur:this.handleOnBlur}))}}]),t}(s.Component);g.propTypes={textprops:c.default.PropTypes.object,judgeFunc:c.default.PropTypes.func.isRequired,errString:c.default.PropTypes.string,errCallback:c.default.PropTypes.func,callback:c.default.PropTypes.func},g.defaultProps={judgeFunc:function(e){return e},errString:"Your input is wrong!",errCallback:function(){return console.log("error value")},callback:function(){return console.log("true value")}}},258:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(2),c=n(s),f=a(163),d=n(f),p=a(29),m=n(p),h=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={open:!1},a.handleDialogOpen=a.handleDialogOpen.bind(a),a.handleDialogClose=a.handleDialogClose.bind(a),a.title="info",a.info="info",a}return o(t,e),u(t,[{key:"Open",value:function(e,t){this.title=e,this.info=t,this.handleDialogOpen()}},{key:"Close",value:function(){this.handleDialogClose()}},{key:"handleDialogOpen",value:function(){this.setState({open:!0})}},{key:"handleDialogClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=[c.default.createElement(m.default,{label:this.props.defaultLabel,primary:!0,keyboardFocused:!0,onTouchTap:this.handleDialogClose})];return this.props.anotherButton&&e.push(this.props.anotherButton),c.default.createElement(d.default,i({},this.props,{title:this.title,actions:e,modal:!1,open:this.state.open,onRequestClose:this.handleDialogClose}),this.info)}}]),t}(s.Component);t.default=h,h.propTypes={anotherButton:c.default.PropTypes.element,defaultLabel:c.default.PropTypes.string},h.defaultProps={defaultLabel:"Cancel"}},259:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingCard=t.Loading=t.StaticLoading=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(815),f=n(c),d=a(130),p=t.StaticLoading=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.style={position:"absolute"},a}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{style:this.style},s.default.createElement(Loding,null))}}]),t}(u.Component);p.propTypes={style:s.default.PropTypes.object},p.defaultProps={style:{}};var m=t.Loading=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.planeDefaultStyle={display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column"},a}return o(t,e),i(t,[{key:"render",value:function(){var e={margin:"30px auto",width:this.props.size,height:this.props.size},t=Object.assign({},this.planeDefaultStyle,this.props.style);return s.default.createElement("div",{className:"Plane",style:t},s.default.createElement("div",{className:"Loading",style:e},s.default.createElement(f.default,{size:this.props.size,thickness:this.props.thickness})))}}]),t}(u.Component);m.propTypes={style:s.default.PropTypes.object,size:s.default.PropTypes.number,thickness:s.default.PropTypes.number},m.defaultProps={style:{},size:100,thickness:5};var h=t.LoadingCard=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.minHeight=400,a.style={},a}return o(t,e),i(t,[{key:"render",value:function(){var e=null,t=this.style;t.minHeight=this.minHeight+"px";for(var a in this.props.style)t[a]=this.props.style[a];return e=this.props.isloading?s.default.createElement(m,{style:{margin:"50px"}}):this.props.children,s.default.createElement(d.Card,{style:t},s.default.createElement(d.CardTitle,{title:this.props.cardTitle}),e)}}]),t}(u.Component);h.propTypes={cardTitle:s.default.PropTypes.string,isloading:s.default.PropTypes.bool},h.defaultProps={style:{},cardTitle:"Title",isloading:!0}},405:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(25),f=n(c),d=(a(378),a(1010)),p=n(d),m=a(353),h=n(m),y=a(803),b=n(y),g=a(29),v=n(g),_=a(407),E=n(_),T=a(406),w=n(T),k=a(419),C=n(k),O=a(23);(0,p.default)();var x=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={title:"title",meanVisible:!1},a.contralMean=a.contralMean.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({title:O.titleMap[window.location.hash]}),window.onhashchange=function(){e.setState({title:O.titleMap[window.location.hash]||"title"})}}},{key:"contralMean",value:function(e){this.setState({meanVisible:e})}},{key:"logout",value:function(){sessionStorage.removeItem("loginState"),localStorage.removeItem("loginState"),(0,O.changeHash)("/")}},{key:"render",value:function(){var e=this,t=localStorage.getItem("loginState")||sessionStorage.getItem("loginState");return s.default.createElement(h.default,null,t?s.default.createElement("div",null,s.default.createElement(b.default,{title:this.state.title,onLeftIconButtonTouchTap:function(){return e.contralMean(!0)},iconElementRight:s.default.createElement("p",null,"马佳良",s.default.createElement(v.default,{label:"退出登录",onTouchTap:this.logout}))}),s.default.createElement(w.default,null),s.default.createElement(E.default,{visible:this.state.meanVisible,closeMean:function(){return e.contralMean(!1)}})):s.default.createElement(C.default,null))}}]),t}(s.default.Component);f.default.render(s.default.createElement(x,null),document.getElementById("content"))},406:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(378),f=a(412),d=n(f),p=a(417),m=n(p),h=a(414),y=n(h),b=a(416),g=n(b),v=a(420),_=n(v),E=a(421),T=n(E),w=a(423),k=n(w),C=a(424),O=n(C),x=a(425),S=n(x),P=a(427),j=n(P),R=a(409),A=n(R),M=a(411),D=n(M),B=a(410),N=n(B),I=a(428),L=n(I),G=a(430),H=n(G),z=a(431),W=n(z),F=a(429),Z=n(F),V=a(413),J=n(V),K=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement(c.HashRouter,{hashType:"noslash"},s.default.createElement("div",null,s.default.createElement(c.Route,{exact:!0,path:"/",component:L.default}),s.default.createElement(c.Route,{path:"/putawayManage",component:g.default}),s.default.createElement(c.Route,{path:"/putaway",component:m.default}),s.default.createElement(c.Route,{path:"/putawayEnsure",component:y.default}),s.default.createElement(c.Route,{path:"/check",component:d.default}),s.default.createElement(c.Route,{path:"/move",component:_.default}),s.default.createElement(c.Route,{path:"/moveEnsure",component:T.default}),s.default.createElement(c.Route,{path:"/moveManage",component:k.default}),s.default.createElement(c.Route,{path:"/out",component:O.default}),s.default.createElement(c.Route,{path:"/outEnsure",component:S.default}),s.default.createElement(c.Route,{path:"/outManage",component:j.default}),s.default.createElement(c.Route,{path:"/material/:id",component:A.default}),s.default.createElement(c.Route,{path:"/migration/task/:id",component:D.default}),s.default.createElement(c.Route,{path:"/task/:id",component:D.default}),s.default.createElement(c.Route,{path:"/staff/:id",component:N.default}),s.default.createElement(c.Route,{path:"/goodsManage",component:J.default}),s.default.createElement(c.Route,{path:"/stat",component:L.default}),s.default.createElement(c.Route,{path:"/stat_good_type",component:H.default}),s.default.createElement(c.Route,{path:"/stat_task_number",component:W.default}),s.default.createElement(c.Route,{path:"/stat_good_time",component:Z.default})))}}]),t}(s.default.Component);t.default=K},407:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(829),f=n(c),d=a(838),p=a(23),m=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a}return o(t,e),i(t,[{key:"handleClick",value:function(e){(0,p.changeHash)(e),this.props.closeMean()}},{key:"render",value:function(){var e=this;return s.default.createElement(f.default,{docked:!1,open:this.props.visible,onRequestChange:function(){return e.props.closeMean()}},s.default.createElement(d.List,null,s.default.createElement(d.ListItem,{primaryText:"入库管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"入库管理",onClick:function(){return e.handleClick("putawayManage")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"入库登记",onClick:function(){return e.handleClick("putaway")}})]}),s.default.createElement(d.ListItem,{primaryText:"移动管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"移动管理",onClick:function(){return e.handleClick("moveManage")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"移动登记",onClick:function(){return e.handleClick("move")}})]}),s.default.createElement(d.ListItem,{primaryText:"出库管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"出库管理",onClick:function(){return e.handleClick("outManage")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"出库登记",onClick:function(){return e.handleClick("out")}})]}),s.default.createElement(d.ListItem,{primaryText:"盘点管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"盘点",onClick:function(){return e.handleClick("check")}})]}),s.default.createElement(d.ListItem,{primaryText:"统计与查询",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"统计",onClick:function(){return e.handleClick("stat")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"货物类型统计",onClick:function(){return e.handleClick("stat_good_type")}}),s.default.createElement(d.ListItem,{key:3,primaryText:"任务数量统计",onClick:function(){return e.handleClick("stat_task_number")}}),s.default.createElement(d.ListItem,{key:4,primaryText:"入库时长统计",onClick:function(){return e.handleClick("stat_good_time")}}),s.default.createElement(d.ListItem,{key:5,primaryText:"物品管理",onClick:function(){return e.handleClick("goodsManage")}})]})))}}]),t}(s.default.Component);t.default=m},408:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(25),p=(n(d),a(131)),m=(n(p),a(164)),h=n(m),y=a(29),b=n(y),g=a(63),v=n(g),_=a(258),E=n(_),T=a(257),w=a(139),k=n(w),C=a(432),O=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={items:[{date:Date.now()}]},a._info=null,a.AddConditions=a.AddConditions.bind(a),a.DeleteAllConditions=a.DeleteAllConditions.bind(a),a.DeleteCondition=a.DeleteCondition.bind(a),a.StartSearch=a.StartSearch.bind(a),a.ShowAll=a.ShowAll.bind(a),a.ConditionChange=a.ConditionChange.bind(a),a}return i(t,e),s(t,[{key:"AddConditions",value:function(){this.setState({items:this.state.items.concat([{date:Date.now()}])})}},{key:"DeleteCondition",value:function(e){var t=this.state.items;if(!(e>=t.length||e<0))return 1===t.length&&0===e?this.DeleteAllConditions():void this.setState({items:t.slice(0,e).concat(t.slice(e+1))})}},{key:"DeleteAllConditions",value:function(){this.setState({items:[{date:Date.now()}]})}},{key:"parseValue",value:function(e,t){return e===Number?Number.parseFloat(t):e===String?t:e===Date?t:void 0}},{key:"StartSearch",value:function(){var e=this,t=this.state.items,a=!0,n=!1,l=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var u=o.value;if(u.isError)return void this._info.Open("错误","您的输入有误，请根据提示修改!");if(!u.value)return void this._info.Open("错误","请您填写完表格！")}}catch(e){n=!0,l=e}finally{try{!a&&i.return&&i.return()}finally{if(n)throw l}}var s=t.map(function(t){var a=e.props.searchKeys[t.key_index];if(a.type===Date)return r({key:t.key},t.method,t.value);var n=t.value;return 0===t.method_index?(n=n.split(" ").map(function(t){return e.parseValue(a.type,t.trim())}).filter(function(e){return e}),n=1===n.length?n[0]:n):n=n.map(function(t){return e.parseValue(a.type,t.trim())}).filter(function(e){return e}),r({key:t.key},t.method,n)});this.props.onSearchTouchTap(s)}},{key:"ConditionChange",value:function(e,t){Object.assign(this.state.items[e],t),this.setState({items:this.state.items.slice()})}},{key:"ShowAll",value:function(){this.props.onShowAllTouchTap()}},{key:"render",value:function(){var e=this,t=[{label:"显示全部",type:2,onTouchTap:this.ShowAll},{label:"搜索",type:1,onTouchTap:this.StartSearch}],a=[{label:"删除所有条件",type:2,btype:1,onTouchTap:this.DeleteAllConditions},{label:"新增条件",type:1,btype:1,onTouchTap:this.AddConditions}];return f.default.createElement("div",null,f.default.createElement(E.default,{ref:function(t){return e._info=t}}),f.default.createElement("div",{style:{margin:"30px 0"}},this.state.items.map(function(t,a){return f.default.createElement(x,{onChange:function(t){return e.ConditionChange(a,t)},searchKeys:e.props.searchKeys,value:t.value,key_index:t.key_index,method_index:t.method_index,key:t.date,remove:e.DeleteCondition,index:a})})),f.default.createElement(k.default,{buttons:a,style:{width:400,margin:"0 auto"}}),f.default.createElement(k.default,{buttons:t}))}}]),t}(c.Component);t.default=O,O.propTypes={style:f.default.PropTypes.object,searchKeys:f.default.PropTypes.arrayOf(f.default.PropTypes.object).isRequired,onSearchTouchTap:f.default.PropTypes.func,onShowAllTouchTap:f.default.PropTypes.func},O.defaultProps={style:{},onShowAllTouchTap:function(){return console.log("show all")},onSearchTouchTap:function(e){return console.log(e)}};var x=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.searchMethods=[{key:"value",label:"值匹配"},{key:"region",label:"范围查询"}],a.handleKeyChange=a.handleKeyChange.bind(a),a.handleMethodChange=a.handleMethodChange.bind(a),a.handleValueChange=a.handleValueChange.bind(a),a.handleValueError=a.handleValueError.bind(a),a}return i(t,e),s(t,[{key:"handleKeyChange",value:function(e,t,a){this.props.onChange({key_index:a,key:this.props.searchKeys[a].key,value:null,isError:!1})}},{key:"handleMethodChange",value:function(e,t,a){this.props.onChange({method_index:a,method:this.searchMethods[a].key,value:null,isError:!1})}},{key:"handleValueChange",value:function(e){var t=this.props.key_index,a=this.props.method_index;this.props.onChange({key_index:t,method_index:a,key:this.props.searchKeys[t].key,method:this.searchMethods[a].key,value:e,isError:!1})}},{key:"handleValueError",value:function(e){this.props.onChange({value:e,isError:!0})}},{key:"render",value:function(){var e=this,t=this.props.searchKeys,a=this.props.searchKeys.map(function(e,t){return f.default.createElement(v.default,{value:t,primaryText:e.label,key:t})}),n=this.searchMethods.map(function(e,t){return f.default.createElement(v.default,{value:t,primaryText:e.label,key:t})}),r=void 0;return r=0===this.props.method_index?f.default.createElement(S,{value:this.props.value,errCallback:this.handleValueError,callback:this.handleValueChange,type:t[this.props.key_index].type}):f.default.createElement(P,{value:this.props.value,errCallback:this.handleValueError,callback:this.handleValueChange,type:t[this.props.key_index].type}),f.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"bottom",margin:"16px 0"}},f.default.createElement("div",{style:{margin:"0 30px"}},f.default.createElement(h.default,{floatingLabelText:"属性",style:{width:150},value:this.props.key_index,onChange:this.handleKeyChange},a),f.default.createElement(h.default,{floatingLabelText:"查询方式",style:{width:120,margin:"0 64px"},value:this.props.method_index,onChange:this.handleMethodChange},n)),f.default.createElement("div",{style:{margin:"0 30px"}},r),f.default.createElement("div",{style:{padding:"32px 0 0",margin:"0 30px"}},f.default.createElement(b.default,{label:"删除",secondary:!0,onTouchTap:function(){return e.props.remove(e.props.index)}})))}}]),t}(c.Component);x.propTypes={style:f.default.PropTypes.object,content:f.default.PropTypes.object,key_index:f.default.PropTypes.number,method_index:f.default.PropTypes.number,onChange:f.default.PropTypes.func,searchKeys:f.default.PropTypes.arrayOf(f.default.PropTypes.object).isRequired},x.defaultProps={style:{},onChange:console.log,key_index:0,method_index:0};var S=function(e){function t(e){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(){return this.props.type===Date?f.default.createElement(C.BaseCtlDateTimePickField,{judgeFunc:function(e){return e},timeprops:{floatingLabelText:"时间",textFieldStyle:{width:146}},dateprops:{floatingLabelText:"日期",textFieldStyle:{width:227}},errString:"日期时间不能为空！",callback:this.props.callback,errCallback:this.props.errCallback,value:this.props.value}):f.default.createElement(T.LenCtlTextField,{minl:1,maxl:256,textprops:{floatingLabelText:"多个可能值用空格分隔",style:{width:373}},errString:"请填写有效查询值！",callback:this.props.callback,errCallback:this.props.errCallback,value:this.props.value})}}]),t}(c.Component);S.propTypes={style:f.default.PropTypes.object},S.defaultProps={style:{}};var P=function(e){function t(e){l(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:a.props.value||[],leftError:0,rightError:0},a.handleLeftChange=a.handleLeftChange.bind(a),a.handleRightChange=a.handleRightChange.bind(a),a.handleRightError=a.handleRightError.bind(a),a.handleLeftError=a.handleLeftError.bind(a),a}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value?e.value:[];t.toString()!==this.state.value.toString()&&this.setState({value:t})}},{key:"handleLeftError",value:function(e){var t=[e,this.state.value[1]];this.setState({leftError:1}),this.props.errCallback(t)}},{key:"handleRightError",value:function(e){var t=[this.state.value[0],e];this.setState({rightError:1}),this.props.errCallback(t)}},{key:"handleLeftChange",value:function(e){var t=[e,this.state.value[1]];this.setState({value:t,leftError:0}),1!==this.state.rightError&&t[0]&&t[1]&&this.props.callback(t)}},{key:"handleRightChange",value:function(e){var t=[this.state.value[0],e];this.setState({value:t,rightError:0}),1!==this.state.leftError&&t[0]&&t[1]&&this.props.callback(t)}},{key:"generatInputs",value:function(e,t,a){var n=f.default.createElement("div",{style:{height:10,margin:"20px 20px"}},f.default.createElement("p",null," - "));return[f.default.createElement(e,u({},t,{callback:this.handleLeftChange,errCallback:this.handleLeftError,value:this.state.value[0]})),n,f.default.createElement(e,u({},a,{callback:this.handleRightChange,errCallback:this.handleRightError,value:this.state.value[1]}))]}},{key:"render",value:function(){var e=[];if(this.props.type===Date){var t={judgeFunc:function(e){return e},timeprops:{floatingLabelText:"时间"},dateprops:{floatingLabelText:"日期"},errString:"日期时间不能为空！"};e=this.generatInputs(C.BaseCtlDateTimePickField,t,t)}else{var a={minl:1,maxl:256,textprops:{floatingLabelText:"最小值",style:{width:164}},errString:"请填写有效查询值！"},n={minl:1,maxl:256,textprops:{floatingLabelText:"最大值",style:{width:164}},errString:"请填写有效查询值！"};e=this.generatInputs(T.LenCtlTextField,a,n)}return f.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"bottom"}},e)}}]),t}(c.Component);P.propTypes={style:f.default.PropTypes.object},P.defaultProps={style:{}}},409:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(130),f=a(134),d=a(165),p=a(29),m=n(p),h=a(131),y=n(h),b=a(24),g=n(b),v=a(259),_=a(23),E=a(54),T=a(141),w=a(140),k={fontSize:20},C=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this,t=[{label:"基础信息",component:O},{label:"移动记录",component:x}];return s.default.createElement(g.default,{style:_.paperStyle},s.default.createElement(d.Tabs,null,t.map(function(t,a){return s.default.createElement(d.Tab,{label:t.label,value:a.toString(),key:a},s.default.createElement(t.component,{style:e.tabStyle,mid:e.props.match.params.id}))})))}}]),t}(u.Component);t.default=C,C.propTypes={style:s.default.PropTypes.object},C.defaultProps={style:{}};var O=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!0,material:null},a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;(0,E.getGoodById)(this.props.mid).then(function(t){return e.setState({loading:!1,material:t})}).catch(console.log)}},{key:"render",value:function(){if(this.state.loading)return s.default.createElement("div",null,s.default.createElement(v.Loading,{style:{margin:150}}));var e=this.state.material,t={"物资状态":(0,T.humanise_material_var)(e.status),"当前位置":void 0===e.repository_id?void 0:(0,T.humanise_material_position)(e.repository_id,e.location_id,e.layer),"原位置":void 0===e.from_repository?void 0:(0,T.humanise_material_position)(e.from_repository,e.from_location,e.from_layer),"新位置":void 0===e.to_repository?void 0:(0,T.humanise_material_position)(e.to_repository,e.to_location,e.to_layer),"宽":e.width,"长":e.length,"高":e.height,"物资描述":e.description},a={"入库时间":(0,T.humanise_date)(e.import_time),"预计出库时间":(0,T.humanise_date)(e.estimated_export_time),"位置更新时间":(0,T.humanise_date)(e.location_update_time)};return s.default.createElement(c.CardText,null,s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:k}," ",s.default.createElement("span",null,"物资id")," : ",s.default.createElement("span",null,e.id)),subtitle:s.default.createElement("p",{style:k}," ",s.default.createElement("span",null,"物资类型")," : ",s.default.createElement("span",null,e.type)," ")}),s.default.createElement(c.CardText,null,(0,w.key_value_table)(t)),s.default.createElement(y.default,null),s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:k},"时间")}),s.default.createElement(c.CardText,null,(0,w.key_value_table)(a)))}}]),t}(u.Component);O.propTypes={style:s.default.PropTypes.object},O.defaultProps={style:{}};var x=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!0,migrations:null},a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;(0,E.getMigrationsById)(this.props.mid).then(function(t){return e.setState({loading:!1,migrations:t})}).catch(console.log)}},{key:"render",value:function(){if(this.state.loading)return s.default.createElement("div",null,s.default.createElement(v.Loading,{style:{margin:150}}));var e=this.state.migrations;console.log(e);var t=e.map(function(e,t){return s.default.createElement(f.Step,{active:!0,key:t},s.default.createElement(f.StepButton,null,(0,T.humanise_date)(e.date)),s.default.createElement(f.StepContent,null,s.default.createElement("div",{style:{padding:16,display:"flex",justifyContent:"space-between",alignItems:"center"}},s.default.createElement("span",null,s.default.createElement("span",{style:{margin:10}},(0,T.humanise_material_position)(e.from_repository,e.from_location,e.from_layer)),s.default.createElement("span",{style:{margin:10}},"--->"),s.default.createElement("span",{style:{margin:10}},(0,T.humanise_material_position)(e.to_repository,e.to_location,e.to_layer))),s.default.createElement("span",null,s.default.createElement(m.default,{label:"查看任务",onTouchTap:function(){return(0,_.changeHash)("/task/migration_"+e._id)}})))))});return s.default.createElement(c.CardText,null,s.default.createElement(f.Stepper,{orientation:"vertical"},t))}}]),t}(u.Component);x.propTypes={style:s.default.PropTypes.object},x.defaultProps={style:{}};var S=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=[{label:"删除任务",type:2,disabled:this.props.task.status<1?0:1,onTouchTap:console.log}];return s.default.createElement(c.CardText,{style:{height:86,padding:"50px 0"}},s.default.createElement(CenterButtons,{buttons:e}))}}]),t}(u.Component);S.propTypes={style:s.default.PropTypes.object},S.defaultProps={style:{}}},410:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(130),f=a(29),d=(n(f),a(165)),p=a(131),m=n(p),h=a(24),y=n(h),b=a(139),g=n(b),v=a(141),_=a(23),E=a(140),T={fontSize:20},w=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={state:1},a}return o(t,e),i(t,[{key:"render",value:function(){var e=this,t={_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},a=[{label:"基础信息",component:k}];return a.push({label:"更多",component:C}),s.default.createElement(y.default,{style:_.paperStyle},s.default.createElement(d.Tabs,null,a.map(function(a,n){return s.default.createElement(d.Tab,{label:a.label,value:n.toString(),key:n},s.default.createElement(a.component,{style:e.tabStyle,staff:t}))})))}}]),t}(u.Component);t.default=w,w.propTypes={style:s.default.PropTypes.object},w.defaultProps={style:{}};var k=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.staff,t={"职位":(0,v.humanise_staff_var)(e.permission),"性别":e.sex?"男":"女","年龄":e.age};console.log(t);var a={"账号":e.account,"密码":e.passwd,"注册时间":(0,v.humanise_date)(e.signup_time),"上次登入时间":(0,v.humanise_date)(e.last_login_time)};return s.default.createElement(c.CardText,null,s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:T}," ",s.default.createElement("span",null,"姓名")," : ",s.default.createElement("span",null,e.name))}),s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:T},"基本信息")}),s.default.createElement(c.CardText,null,(0,E.key_value_table)(t)),s.default.createElement(m.default,null),s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:T},"账户信息")}),s.default.createElement(c.CardText,null,(0,E.key_value_table)(a)))}}]),t}(u.Component);k.propTypes={style:s.default.PropTypes.object},k.defaultProps={style:{}};var C=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=[{label:"删除职员",type:2,onTouchTap:console.log},{label:"修改职员信息",type:1,onTouchTap:console.log}];return s.default.createElement(c.CardText,{style:{height:86,padding:"50px 200px 0 200px"}},s.default.createElement(g.default,{buttons:e}))}}]),t}(u.Component);C.propTypes={style:s.default.PropTypes.object},C.defaultProps={style:{}}},411:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(130),f=a(131),d=n(f),p=a(29),m=n(p),h=a(165),y=a(24),b=n(y),g=a(139),v=a(259),_=a(23),E=a(54),T=a(141),w=a(140),k={fontSize:20,fontWeight:500,padding:16,display:"flex",justifyContent:"space-between",alignItems:"center"},C={fontSize:20},O={fontSize:16,marginLeft:20},x=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!0,task:null},a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id.split("_");2!==t.length&&(0,_.changeHash)("/");var a=t[1];("task"===t[0]?E.getTaskById:E.getTaskByMigrationId)(a).then(function(t){return e.setState({loading:!1,task:t})}).catch(console.log)}},{key:"render",value:function(){var e=this;if(this.state.loading)return s.default.createElement("div",null,s.default.createElement(v.Loading,{style:{margin:150}}));var t=this.state.task,a=[{label:"基础信息",component:S}];return t.material&&a.push({label:"物品信息",component:P}),t.staff&&a.push({label:"人员信息",component:j}),a.push({label:"更多",component:R}),s.default.createElement(b.default,{style:_.paperStyle},s.default.createElement(h.Tabs,null,a.map(function(a,n){return s.default.createElement(h.Tab,{label:a.label,value:n.toString(),key:n},s.default.createElement(a.component,{style:e.tabStyle,task:t}))})))}}]),t}(u.Component);t.default=x,x.propTypes={style:s.default.PropTypes.object},x.defaultProps={style:{}};var S=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.task,t={"发布时间":(0,T.humanise_date)(e.publish_time),"开始执行时间":(0,T.humanise_date)(e.start_time),"结束时间":(0,T.humanise_date)(e.end_time)};return s.default.createElement(c.CardText,null,s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:C}," ",s.default.createElement("span",null,"Action")," : ",s.default.createElement("span",null,e.action)," (",s.default.createElement("span",null,(0,T.humanise_task_var)(e.action),")")),subtitle:s.default.createElement("p",{style:C}," ",s.default.createElement("span",null,"Status")," : ",s.default.createElement("span",null,e.status)," (",s.default.createElement("span",null,(0,T.humanise_task_var)(e.status),")"))}),s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:C},"时间")}),s.default.createElement(c.CardText,null,(0,w.key_value_table)(t)),s.default.createElement(d.default,null),s.default.createElement(c.CardHeader,{title:s.default.createElement("p",{style:C},"附加信息")}),s.default.createElement(c.CardText,null,e.remark&&e.remark.length>=0?e.remark.split("\n").map(function(e,t){return s.default.createElement("p",{key:t,style:O},e)}):"空"))}}]),t}(u.Component);S.propTypes={style:s.default.PropTypes.object},S.defaultProps={style:{}};var P=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.task.material,t=this.props.task.migration,a={"物资id":e.id,"物资类型":e.type,"物资状态":(0,T.humanise_material_var)(e.status),"宽":e.width,"长":e.length,"高":e.height,"物资描述":e.description};return t&&(a["原位置"]=(0,T.humanise_material_position)(t.from_repository,t.from_location,t.from_layer),a["新位置"]=(0,T.humanise_material_position)(t.to_repository,t.to_location,t.to_layer)),s.default.createElement(c.CardText,null,s.default.createElement("p",{style:k},s.default.createElement("span",null,"物资"),s.default.createElement(m.default,{label:"查看详情",onTouchTap:function(){return(0,_.changeHash)("/material/"+e._id)}})),s.default.createElement(c.CardText,null,(0,w.key_value_table)(a)))}}]),t}(u.Component);P.propTypes={style:s.default.PropTypes.object},P.defaultProps={style:{}};var j=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.task.staff,t={"姓名":e.name,"账户":e.account,"职位":(0,T.humanise_staff_var)(e.permission),"性别":e.sex?"男":"女","年龄":e.age};return s.default.createElement(c.CardText,null,s.default.createElement("p",{style:k},s.default.createElement("span",null,"人员"),s.default.createElement(m.default,{label:"查看详情",onTouchTap:function(){return(0,_.changeHash)("/staff/"+e._id)}})),s.default.createElement(c.CardText,null,(0,w.key_value_table)(t)))}}]),t}(u.Component);j.propTypes={style:s.default.PropTypes.object},j.defaultProps={style:{}};var R=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e=[{label:"删除任务",type:2,disabled:this.props.task.status<1?0:1,onTouchTap:console.log}];return s.default.createElement(c.CardText,{style:{height:86,padding:"50px 24px 0 24px"}},s.default.createElement(g.CenterButtons,{buttons:e}))}}]),t}(u.Component);R.propTypes={style:s.default.PropTypes.object},R.defaultProps={style:{}}},412:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(25),f=(n(c),a(130)),d=a(131),p=n(d),m=a(813),h=n(m),y=a(338),b=n(y),g=a(165),v=a(164),_=n(v),E=a(29),T=n(E),w=a(63),k=n(w),C=a(347),O=n(C),x=a(24),S=n(x),P=a(166),j=a(408),R=n(j),A=a(257),M=a(258),D=n(M),B=a(139),N=n(B),I=a(140),L=a(23),G=a(141),H={id:1,available_space:40,stored_count:23,locations:new Array(44).fill(0).map(function(e,t){return{id:t+1,place:t%4+1,label:(44-t).toString(),available_space:34,materials:[1,2,3]}})},z=[{fixed:!1,error_code:1,repository:1,create_date:Date.now()+12e3,location:28,layer:0,material:32143214,image:"/errors/a.png"},{fixed:!1,error_code:1,repository:1,create_date:Date.now()+12e3,location:28,layer:0,material:32143214,image:"/errors/a.png"},{fixed:!1,error_code:2,create_date:Date.now()+12e3,repository:1,location:23,layer:0,material:32143214,image:"/errors/a.png"},{fixed:!1,error_code:1,repository:1,create_date:Date.now()+12e3,location:39,layer:0,material:32143214,image:"/errors/a.png"}],W=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={state:1},a.tabStyle={textAlign:"center",padding:24},a.state={tab:"0"},a.changeTab=a.changeTab.bind(a),a.handleChange=a.handleChange.bind(a),a}return o(t,e),i(t,[{key:"changeTab",value:function(e){this.setState({tab:e})}},{key:"handleChange",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){var e=this,t=[{label:"总览",component:F},{label:"位置信息",component:Z},{label:"自动盘点",component:V}];return s.default.createElement(S.default,{style:L.paperStyle},s.default.createElement(f.Card,{style:{padding:24}},s.default.createElement(R.default,{searchKeys:[{key:"description",label:"物资描述",type:String},{key:"date",label:"入库时间",type:Date},{key:"id",label:"物资id",type:Number}]})),s.default.createElement(g.Tabs,{value:this.state.tab,onChange:this.handleChange},t.map(function(t,a){return s.default.createElement(g.Tab,{label:t.label,value:a.toString(),key:a},s.default.createElement(t.component,{style:e.tabStyle,changeTab:e.changeTab}))})))}}]),t}(u.Component);t.default=W,W.propTypes={style:s.default.PropTypes.object},W.defaultProps={style:{}};var F=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={last_check_time:Date.now()+12e3},a._info=null,a.paperStyle={height:80,width:792,margin:"0 auto",padding:"15 24px",lineHeight:"20px"},a}return o(t,e),i(t,[{key:"manual_check",value:function(){this.setState({last_check_time:Date.now()}),this._info.Open("提醒","手动盘点成功！")}},{key:"render",value:function(){var e=this,t=z.map(function(e){return{error_code:(0,G.humanise_error_code)(e.error_code),position:(0,G.humanise_material_position)(e.repository,e.location,e.layer),material:32143214,create_date:(0,G.humanise_date)(e.create_date)}}),a=[["错误类型","error_code"],["位置","position"],["相关物资","material"],["出错时间","create_date"]],n=[{label:"设置自动盘点",onTouchTap:function(){return e.props.changeTab("2")},type:2},{label:"手动盘点",type:1,onTouchTap:function(){return e.manual_check()}}],r=s.default.createElement("div",null,s.default.createElement("p",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center"}},s.default.createElement("span",null,"物资数量: ",s.default.createElement("span",{style:{color:P.blue300}},H.stored_count)),s.default.createElement("span",null,"空间总数: ",s.default.createElement("span",{style:{color:P.blue300}},2640)),s.default.createElement("span",null,"剩余空间: ",s.default.createElement("span",{style:{color:P.blue300}},H.available_space)),s.default.createElement("span",null,"错误数量: ",s.default.createElement("span",{style:{color:P.red300}},z.length))),s.default.createElement("p",null,s.default.createElement("span",null,"最近一次盘点时间: ",s.default.createElement("span",{style:{color:P.red300}},(0,G.humanise_date)(this.state.last_check_time)))));return s.default.createElement("div",{style:this.props.style},s.default.createElement(D.default,{ref:function(t){return e._info=t},defaultLabel:"Ok"}),s.default.createElement(S.default,{style:this.paperStyle,zDepth:1,children:r}),s.default.createElement("div",{style:{margin:"50px 0"}},(0,I.printable_table)("错误列表","error_table",a,t)),s.default.createElement(N.default,{buttons:n}))}}]),t}(u.Component);F.propTypes={style:s.default.PropTypes.object},F.defaultProps={style:{}};var Z=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"render",value:function(){var e={margin:"20px auto",textAlign:"left",width:900},t={width:300,margin:"2px 0",display:"inline-block"},a=function(e){var a=z.filter(function(t){return t.location===e.id}).length,n=a>0?P.red300:P.blue300,r=a>0?P.pink900:P.indigo900,l="物资数量："+e.materials.reduce(function(e,t){return e+t});return l=a>0?l+", 错误数量："+a:l,s.default.createElement("div",{style:t,key:e.id},s.default.createElement(h.default,{backgroundColor:n},s.default.createElement(b.default,{size:32,color:n,backgroundColor:r},e.label),l))},n=H.locations.filter(function(e){return 1===e.place||4===e.place}).map(a),r=H.locations.filter(function(e){return 2===e.place}).map(a),l=H.locations.filter(function(e){return 3===e.place}).map(a);return s.default.createElement("div",{style:this.props.style},s.default.createElement("img",{src:"/static/img/locations.png",style:{width:426,margin:"20px auto"}}),s.default.createElement("div",{style:e},s.default.createElement("h1",null,"A区"),n),s.default.createElement(p.default,null),s.default.createElement("div",{style:e},s.default.createElement("h1",null,"B区"),r),s.default.createElement(p.default,null),s.default.createElement("div",{style:e},s.default.createElement("h1",null,"C区"),l))}}]),t}(u.Component);Z.propTypes={style:s.default.PropTypes.object},Z.defaultProps={style:{}};var V=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={current:{type:0,time:Date.now()+12e4,other:0},update:{type:0,time:Date.now()+12e4,other:0}},a.paperStyle={height:60,width:792,margin:"0 auto",padding:"0 24px",lineHeight:"60px"},a._info_cancel=null,a._info_change=null,a.handleTypeChange=a.handleTypeChange.bind(a),a.handleOtherChange=a.handleOtherChange.bind(a),a.handleTimePickerChange=a.handleTimePickerChange.bind(a),a.cancelAutoCheck=a.cancelAutoCheck.bind(a),a.changeAutoCheck=a.changeAutoCheck.bind(a),a.handleOtherChangeType3=a.handleOtherChangeType3.bind(a),a}return o(t,e),i(t,[{key:"handleTypeChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,{type:t})})}},{key:"handleOtherChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,{other:t})})}},{key:"handleOtherChangeType3",value:function(e){var t=60*Math.floor(this.state.update.other/60)+e;this.setState({update:Object.assign({},this.state.update,{other:t})}),console.log(t)}},{key:"handleTimePickerChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,{time:t})})}},{key:"cancelAutoCheck",value:function(){this.setState({current:Object.assign({},this.state.current,{type:-1}),update:Object.assign({},this.state.update,{type:-1})}),this._info_cancel.Close()}},{key:"changeAutoCheck",value:function(){this.setState({current:this.state.update}),this._info_change.Close()}},{key:"render",value:function(){var e=this,t=[{label:"取消自动盘点",type:0,onTouchTap:function(){return e._info_cancel.Open("取消自动盘点","确认取消自动盘点功能？")}},{label:"确认修改",type:1,onTouchTap:function(){return e._info_change.Open("修改自动盘点方式","确认将自动盘点方式修改为 "+(0,G.humanise_schedule)(e.state.update))}}],a=["每天","每周","每月","每隔"],n=["周一","周二","周三","周四","周五","周六","周日"],r=new Array(30).fill(1).map(function(e,t){return t+1+"号"}),l=s.default.createElement("p",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center"}},s.default.createElement("span",null,"盘点方式: ",s.default.createElement("span",{style:{color:P.blue300}},(0,G.humanise_schedule)(this.state.current))),s.default.createElement("span",null,"下次盘点时间: ",s.default.createElement("span",{style:{color:P.red300}},(0,G.humanise_date)(Date.now()+12e4))));return s.default.createElement("div",{style:this.props.style},s.default.createElement(D.default,{ref:function(t){return e._info_cancel=t},anotherButton:s.default.createElement(T.default,{label:"OK",secondary:!0,keyboardFocused:!1,onTouchTap:this.cancelAutoCheck})}),s.default.createElement(D.default,{ref:function(t){return e._info_change=t},anotherButton:s.default.createElement(T.default,{label:"OK",secondary:!0,keyboardFocused:!1,onTouchTap:this.changeAutoCheck})}),s.default.createElement(S.default,{style:this.paperStyle,zDepth:1,children:l}),s.default.createElement("div",{style:{margin:"30px 0",display:"flex",height:204,justifyContent:"center",alignItems:"center"}},s.default.createElement(_.default,{floatingLabelText:"自动方式",style:{margin:"0 16px"},value:this.state.update.type,onChange:this.handleTypeChange},a.map(function(e,t){return s.default.createElement(k.default,{value:t,primaryText:e})})),1!==this.state.update.type?void 0:s.default.createElement(_.default,{floatingLabelText:"星期",style:{margin:"0 16px"},value:this.state.update.other,onChange:this.handleOtherChange},n.map(function(e,t){return s.default.createElement(k.default,{value:t,primaryText:e})})),2!==this.state.update.type?void 0:s.default.createElement(_.default,{floatingLabelText:"月",style:{margin:"0 16px"},value:this.state.update.other,onChange:this.handleOtherChange},r.map(function(e,t){return s.default.createElement(k.default,{value:t,primaryText:e})})),3!==this.state.update.type?void 0:s.default.createElement("div",{style:{margin:"0 24px"}},s.default.createElement(A.RegCtlTextField,{reg:/^\d+$/,style:{width:130,margin:"20px 0"},hintText:"1",floatingLabelText:"小时",callback:function(t){return e.handleOtherChangeType3(3600*Number.parseInt(t))},errString:"请填写大于0的整数"}),s.default.createElement("br",null),"+",s.default.createElement("br",null),s.default.createElement(A.RegCtlTextField,{reg:/^\d+$/,style:{width:130,margin:0},hintText:"0",floatingLabelText:"分钟",callback:function(t){return e.handleOtherChangeType3(60*Number.parseInt(t))},errString:"请填写大于0的整数"})),3!==this.state.update.type?void 0:s.default.createElement("span",{style:{padding:"26px 0 0 0"}},"从"),-1===this.state.update.type?void 0:s.default.createElement(O.default,{style:{padding:"24px 0 0 16px"},textFieldStyle:{width:100},format:"24hr",hintText:"时间",value:new Date(this.state.update.time),onChange:this.handleTimePickerChange}),3!==this.state.update.type?void 0:s.default.createElement("span",{style:{padding:"26px 0 0 0"}},"开始")),s.default.createElement(N.default,{buttons:t}))}}]),t}(u.Component);V.propTypes={style:s.default.PropTypes.object},V.defaultProps={style:{}}},413:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(57),f=a(40),d=a(63),p=n(d),m=a(220),h=n(m),y=a(75),b=n(y),g=a(132),v=(n(g),a(76)),_=n(v),E=a(91),T=n(E),w=a(36),k=n(w),C=a(29),O=(n(C),a(23)),x=a(180),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(x),P=a(82),j=n(P),R=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={good:[],sort:1,action:!1,selected:0},a.handleChange=a.handleChange.bind(a),a.meunClick=a.meunClick.bind(a),a.doAction=a.doAction.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=O.testGoods;for(var t in e)e[t].number=Math.floor(9998*Math.random()+1);this.setState({good:e})}},{key:"handleChange",value:function(e,t,a){var n=this.state.good;switch(a){case 1:n=n.sort(S.sortById);break;case 2:n=n.sort(S.sortByType);break;case 3:n=n.sort(S.sortByNum);break;case 4:n=n.sort(S.sortByImportTime);break;case 5:n=n.sort(S.sortByOutTime);break;case 6:n=n.sort(S.sortByMoveTime);break;case 7:n=n.sort(S.sortByPlace)}this.setState({sort:a,good:n})}},{key:"renderRow",value:function(){return this.state.good.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=(0,O.parsetime)(e.import_time),a=(0,O.parsetime)(e.estimated_export_time,0),n=(0,O.parsetime)(e.location_update_time),r=(0,O.parsePlace)(e);return s.default.createElement(f.TableRow,{key:e.id},s.default.createElement(f.TableRowColumn,{style:{overflow:"visible"}},e.id),s.default.createElement(f.TableRowColumn,null,e.type),s.default.createElement(f.TableRowColumn,null,e.number),s.default.createElement(f.TableRowColumn,{style:{overflow:"visible"}},t),s.default.createElement(f.TableRowColumn,null,a),s.default.createElement(f.TableRowColumn,{style:{overflow:"visible"}},n),s.default.createElement(f.TableRowColumn,null,r),s.default.createElement(f.TableRowColumn,null,s.default.createElement(k.default,{label:"详情",onTouchTap:function(){return(0,O.changeHash)("/material/"+e.id)}})))}},{key:"action",value:function(){var e=!this.state.action;this.setState({action:e})}},{key:"doAction",value:function(e){if(0===this.state.selected)return!1;var t=["move","out"][e],a=this.state.good[this.state.selected-1],n={type:[],num:"",id:a.id.toString()};sessionStorage.setItem(t+"task",JSON.stringify(n)),(0,O.changeHash)(t)}},{key:"meunClick",value:function(e,t){if("printTable"===t.key){var a=new Table2Excel,n="入库单"+(0,O.parsetime)(new Date,2);a.export(document.getElementsByClassName("tablePrint")[1],n)}if("printBar"===t.key){var r=this.state.good;for(var l in r)(0,O.downloadBarCode)(r[l].material.id)}}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(j.default,null),s.default.createElement(c.Toolbar,null,s.default.createElement(c.ToolbarGroup,{firstChild:!0},s.default.createElement(T.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},s.default.createElement(p.default,{value:1,primaryText:"默认排序"}),s.default.createElement(p.default,{value:2,primaryText:"物资类型"}),s.default.createElement(p.default,{value:3,primaryText:"物资数量"}),s.default.createElement(p.default,{value:4,primaryText:"入库时间"}),s.default.createElement(p.default,{value:5,primaryText:"估计出库时间"}),s.default.createElement(p.default,{value:6,primaryText:"最近搬运时间"}),s.default.createElement(p.default,{value:7,primaryText:"所处地址"}))),s.default.createElement(c.ToolbarGroup,null,s.default.createElement(k.default,{label:this.state.action?"取消":"操作",primary:!this.state.action,secondary:this.state.action,onTouchTap:this.action.bind(this)}),s.default.createElement(c.ToolbarSeparator,null),s.default.createElement(h.default,{iconButtonElement:s.default.createElement(b.default,{touch:!0},s.default.createElement(_.default,null)),onItemTouchTap:this.meunClick},s.default.createElement(p.default,{primaryText:"打印物品单",key:"printTable"}),s.default.createElement(p.default,{primaryText:"打印条形码",key:"printBar"})))),s.default.createElement(f.Table,{selectable:!0,className:"tablePrint",onRowSelection:function(t){return e.setState({selected:t[0]})}},s.default.createElement(f.TableBody,{displayRowCheckbox:this.state.action,deselectOnClickaway:!1},s.default.createElement(f.TableRow,{selectable:!1},s.default.createElement(f.TableRowColumn,null,"物资编号"),s.default.createElement(f.TableRowColumn,null,"物资类型"),s.default.createElement(f.TableRowColumn,null,"物资数量"),s.default.createElement(f.TableRowColumn,null,"入库时间"),s.default.createElement(f.TableRowColumn,null,"估计出库时间"),s.default.createElement(f.TableRowColumn,null,"最近搬运时间"),s.default.createElement(f.TableRowColumn,null,"所处地址"),s.default.createElement(f.TableRowColumn,null,"详情")),this.renderRow.call(this))),!!this.state.action&&s.default.createElement("div",{style:{display:"flex",justifyContent:"space-around",margin:30}},s.default.createElement(k.default,{label:"移动",primary:!0,onTouchTap:function(){return e.doAction(0)}}),s.default.createElement(k.default,{label:"出库",primary:!0,onTouchTap:function(){return e.doAction(1)}})))}}]),t}(s.default.Component);t.default=R},414:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(134),f=a(415),d=n(f),p=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={stepIndex:1},a}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"填写入库单")),s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"完成入库"))),s.default.createElement(d.default,null))}}]),t}(s.default.Component);t.default=p},415:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(40),f=a(225),d=n(f),p=a(36),m=n(p),h=a(23),y=(a(54),function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={task:{},open:!1,mes:""},a.renderRow=a.renderRow.bind(a),a.closeBar=a.closeBar.bind(a),a.putaway=a.putaway.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("intask"));void 0===e.repository_id&&(e.repository_id=1,e.location_id=(0,h.randomNum)(1,10),e.layer=(0,h.randomNum)(1,3)),e.id=(0,h.makeId)();var t=(0,h.parsePlace)(e);e.to=t,e.type=e.type.join("-"),this.setState({task:e})}},{key:"renderRow",value:function(){var e=this.state.task,t=[];for(var a in e)if(h.formName[a]){var n=!("estimated_export_time"===a),r=s.default.createElement(c.TableRow,{key:a},s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},h.formName[a]),s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},n?e[a]:(0,h.parsetime)(e[a],0)));t.push(r)}return t}},{key:"cancel",value:function(){(0,h.changeHash)("putaway")}},{key:"putaway",value:function(){sessionStorage.removeItem("intask"),this.setState({mes:"入库成功，3秒后返回入库页面",open:!0}),setTimeout(function(){return(0,h.changeHash)("putaway")},3e3)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({open:!1}),1===e&&(0,h.changeHash)("putaway")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Table,{selectable:!1,style:{width:"80%",margin:"0 auto"}},s.default.createElement(c.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},this.renderRow())),s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},s.default.createElement(m.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),s.default.createElement(m.default,{label:"确认",primary:!0,onTouchTap:this.putaway})),s.default.createElement(d.default,{open:this.state.open,message:this.state.mes,autoHideDuration:3e3,onRequestClose:this.closeBar,action:"立即跳转",onActionTouchTap:function(){return e.closeBar(1)}}))}}]),t}(s.default.Component));t.default=y},416:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){var n=e.material,r=n.id,l=n.type,o=e.number,i=(0,x.parsetime)(n.location_update_time),s=(0,x.parseTaskPlace)(n),c=u(s,2);return[r,l,o,i,c[0],c[1]][a-1].toString().replace(/\s/g,"").indexOf(t)>=0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(57),p=a(40),m=a(63),h=n(m),y=a(91),b=n(y),g=a(36),v=n(g),_=a(29),E=(n(_),a(51)),T=n(E),w=a(24),k=n(w),C=a(96),O=n(C),x=a(23),S=a(54),P=a(181),j=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(P),a(82)),R=n(j),A=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={task:[],oriTask:[],sort:1,choose:!1,selectes:[],page:1,limit:10,numberOfPage:1,numberOfGood:0},a.handleChange=a.handleChange.bind(a),a.initTask=a.initTask.bind(a),a.setNumberOfGood=a.setNumberOfGood.bind(a),a}return o(t,e),s(t,[{key:"changePage",value:function(e){var t=this,a={page:e,limit:this.state.limit,others:[{key:"action",value:500}]};(0,S.getTask)(function(e){return t.setState({task:e})},a),this.setState({page:e})}},{key:"componentWillMount",value:function(){var e={others:[{key:"action",value:500}]};(0,S.getTaskNumber)(this.setNumberOfGood,e)}},{key:"initTask",value:function(e){var t=e,a=[];for(var n in t)a.push(t[n]);this.setState({task:t,oriTask:a})}},{key:"setNumberOfGood",value:function(e){var t=Math.ceil(e/this.state.limit)||1,a={page:this.state.page,limit:this.state.limit,others:[{key:"action",value:500}]};(0,S.getTask)(this.initTask,a),this.setState({numberOfGood:e,numberOfPage:t})}},{key:"handleChange",value:function(e,t,a){this.setState({sort:a})}},{key:"renderRow",value:function(){return this.state.task.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=e.material,a=(0,x.parsetime)(t.location_update_time),n=(0,x.parseTaskPlace)(e.migration),r=u(n,2),l=r[0],o=r[1],i=["未开始","进行中","已完成","已取消"][e.status];return f.default.createElement(p.TableRow,{key:t.id},f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},t.id),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},t.type),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},t.description),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},a),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},l),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},o),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},i),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},f.default.createElement(v.default,{label:"详情",onTouchTap:function(){return(0,x.changeHash)("/task/task_"+e._id)}})))}},{key:"addPutaway",value:function(){(0,x.changeHash)("putaway")}},{key:"printTable",value:function(){var e=new Table2Excel,t="入库单"+(0,x.parsetime)(new Date,2);e.export(document.getElementsByClassName("tablePrint")[1],t)}},{key:"printBar",value:function(){if(this.state.choose){var e=this.state.task;this.state.selectes.map(function(t){return(0,x.downloadBarCode)(e[t-1].material.id)}),this.setState({choose:!1})}else this.setState({choose:!0})}},{key:"pick",value:function(e,t){var a=this,n=this.state.task,r=this.state.oriTask;n=t?r.filter(function(e){return i(e,t,a.state.sort)}):r,this.setState({task:n})}},{key:"render",value:function(){var e=this;return f.default.createElement(k.default,{style:x.paperStyle,zDepth:1},f.default.createElement("div",null,f.default.createElement(R.default,null),f.default.createElement(d.Toolbar,null,f.default.createElement(d.ToolbarGroup,{firstChild:!0},f.default.createElement(b.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},f.default.createElement(h.default,{value:1,primaryText:"物资编号"}),f.default.createElement(h.default,{value:2,primaryText:"物资类型"}),f.default.createElement(h.default,{value:3,primaryText:"物资名称"}),f.default.createElement(h.default,{value:4,primaryText:"入库时间"}),f.default.createElement(h.default,{value:5,primaryText:"原始位置"}),f.default.createElement(h.default,{value:6,primaryText:"入库地址"})),f.default.createElement(T.default,{hintText:"在结果中筛选",hintStyle:{color:"gray"},onChange:this.pick.bind(this)})),f.default.createElement(d.ToolbarGroup,null,f.default.createElement(d.ToolbarSeparator,null),f.default.createElement(v.default,{label:"打印入库单",primary:!0,onTouchTap:this.printTable.bind(this)}),f.default.createElement(v.default,{label:this.state.choose?"打印条形码":"选择打印条形码",primary:!0,onTouchTap:this.printBar.bind(this)}))),f.default.createElement(p.Table,{multiSelectable:this.state.choose,selectable:this.state.choose,onRowSelection:function(t){return e.setState({selectes:t})},className:"tablePrint"},f.default.createElement(p.TableBody,{displayRowCheckbox:this.state.choose,deselectOnClickaway:!1},f.default.createElement(p.TableRow,{selectable:!1},f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资编号"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资类型"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资数量"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"入库时间"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"原始位置"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"入库地址"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"状态"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"详情")),this.renderRow.call(this))),f.default.createElement("div",{style:{textAlign:"center"}},f.default.createElement(O.default,{changePage:this.changePage.bind(this),page:this.state.page,numberOfPage:this.state.numberOfPage}))))}}]),t}(f.default.Component);t.default=A},417:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(418),f=n(c),d=(a(134),a(24)),p=n(d),m=a(82),h=(n(m),a(23)),y=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={stepIndex:0},a}return o(t,e),i(t,[{key:"setStep",value:function(e){this.setState({stepIndex:e})}},{key:"render",value:function(){return s.default.createElement(p.default,{style:h.paperStyle,zDepth:1},s.default.createElement("div",null,s.default.createElement(f.default,null)))}}]),t}(s.default.Component);t.default=y},418:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(2),c=n(s),f=a(164),d=n(f),p=a(353),m=n(p),h=a(63),y=n(h),b=a(51),g=n(b),v=a(219),_=n(v),E=a(36),T=n(E),w=a(162),k=n(w),C=a(40),O=a(23),x=a(54),S=a(96),P=n(S),j=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={secondType:[],task:{},error:{},locationVisible:!1,auto:!1,alreadyTask:[],page:1,limit:10,numberOfPage:1,numberOfGood:0,isAction:!1},a.handleChange=a.handleChange.bind(a),a.cancel=a.cancel.bind(a),a.putaway=a.putaway.bind(a),a.setType=a.setType.bind(a),a.addAlreadyTask=a.addAlreadyTask.bind(a),a.setNumberOfGood=a.setNumberOfGood.bind(a),a.renderRowColumn=a.renderRowColumn.bind(a),a.deleteGood=a.deleteGood.bind(a),a}return o(t,e),u(t,[{key:"changePage",value:function(e){var t=this,a={page:e,limit:this.state.limit,others:[{key:"status",value:300}]};(0,x.getGood)(function(e){return t.setState({alreadyTask:(0,x.mergeGoods)(e)})},a),this.setState({page:e})}},{key:"componentWillMount",value:function(){var e={type:[],num:"",description:"",repository_id:"",location_id:"",layer:"",estimated_export_time:null},t={others:[{key:"status",value:300}]};(0,x.getGoodNumber)(this.setNumberOfGood,t),this.setState({task:e})}},{key:"setNumberOfGood",value:function(e){var t=Math.ceil(e/this.state.limit)||1,a={page:this.state.page,limit:this.state.limit,others:[{key:"status",value:300}]};(0,x.getGood)(this.addAlreadyTask,a),this.setState({numberOfGood:e,numberOfPage:t})}},{key:"handleChange",value:function(e,t){var a=this.state.task,n=this.state.error;a[t]=e,n[t]="",this.setState({task:a})}},{key:"setType",value:function(e){var t=this.state.task,a=this.state.error;t.type[0]=e,a.type="",this.setState({task:t})}},{key:"setSecondType",value:function(e){var t=this.state.task,a=this.state.error;t.type[1]=e,a.type="",this.setState({task:t})}},{key:"renderMenuItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[];if(1===t)return e.map(function(e,t){return c.default.createElement(y.default,{value:e,key:t,primaryText:e})});if(2===t){for(var n in e){var r=c.default.createElement(y.default,{value:n,key:n,primaryText:n});a.push(r)}return a}}},{key:"cancel",value:function(){sessionStorage.removeItem("intask");var e=this.state.task;for(var t in e)e[t]=null,"num"!==t&&"description"!==t||(e[t]=""),"type"===t&&(e[t]={});this.setState({task:e})}},{key:"addAlreadyTask",value:function(e){var t=this.state.alreadyTask;Array.prototype.push.apply(t,(0,x.mergeGoods)(e)),this.setState({alreadyTask:t})}},{key:"deleteGood",value:function(e){console.log(e);var t={id:e};(0,x.deleteGood)(function(){return!1},t)}},{key:"putaway",value:function(){var e=this.state.task,t=(0,O.objIsEmpty)(e),a=i(t,2),n=a[0],r=a[1];if(n){var l={};return r.map(function(e){return l[e]="请填写完整!"}),this.setState({error:l}),!1}(0,x.putaway)(this.addAlreadyTask,{task:e})}},{key:"renderRow",value:function(){return this.state.alreadyTask.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=this,a=(0,O.parsetime)(e.import_time),n=(0,O.parsetime)(e.estimated_export_time),r=(0,O.parsePlace)(e);return e.number=e.number,c.default.createElement(C.TableRow,{key:e.id},c.default.createElement(C.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.type),c.default.createElement(C.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.description),c.default.createElement(C.TableRowColumn,{style:{textAlign:"center"}},e.number),c.default.createElement(C.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},a),c.default.createElement(C.TableRowColumn,{style:{textAlign:"center"}},r),c.default.createElement(C.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},n),c.default.createElement(C.TableRowColumn,{style:{textAlign:"center"}},O.status[e.status]),c.default.createElement(C.TableRowColumn,{style:{textAlign:"center"}},c.default.createElement(T.default,{label:"删除",onTouchTap:function(){return t.deleteGood(e._id)},secondary:!0})))}},{key:"render",value:function(){var e=this;return c.default.createElement(m.default,null,c.default.createElement("div",{style:O.styles.container},c.default.createElement("div",{style:{display:"flex",flexDirection:"row",height:72}},c.default.createElement(k.default,{label:"自动分配地址",checked:this.state.auto,onCheck:function(t,a){var n=e.state.task;delete n.repository_id,delete n.location_id,delete n.layer,a||(n.repository_id="",n.location_id="",n.layer=""),e.setState({auto:a,task:n})},style:{width:200,marginTop:30}}),c.default.createElement(k.default,{label:"手动填写地址",checked:!this.state.auto,onCheck:function(t,a){var n=e.state.task;n.repository_id||(n.repository_id="",n.location_id="",n.layer=""),a||(delete n.repository_id,delete n.location_id,delete n.layer),e.setState({auto:!a,task:n})},style:{width:200,marginTop:30}}),!this.state.auto&&c.default.createElement("div",null,c.default.createElement(d.default,{floatingLabelText:"仓",floatingLabelStyle:{color:"gray"},value:this.state.task.repository_id,errorText:this.state.error.repository_id,style:{width:100},onChange:function(t,a,n){return e.handleChange(n,"repository_id")}},this.renderMenuItem([1])),c.default.createElement(d.default,{floatingLabelText:"架",floatingLabelStyle:{color:"gray"},value:this.state.task.location_id,errorText:this.state.error.location_id,style:{width:100},onChange:function(t,a,n){return e.handleChange(n,"location_id")}},this.renderMenuItem([1,2,3,4,5,6,7,8,9,10])),c.default.createElement(d.default,{floatingLabelText:"层",floatingLabelStyle:{color:"gray"},value:this.state.task.layer,errorText:this.state.error.layer,style:{width:100},onChange:function(t,a,n){return e.handleChange(n,"layer")}},this.renderMenuItem([1,2,3])))),c.default.createElement("div",{style:{display:"flex"}},c.default.createElement(d.default,{floatingLabelText:"类型",floatingLabelStyle:{color:"gray"},value:this.state.task.type[0],errorText:this.state.error.type,style:O.styles.formItem,onChange:function(t,a,n){return e.setType(n)}},this.renderMenuItem(O.types,2)),c.default.createElement(d.default,{floatingLabelText:"详细",floatingLabelStyle:{color:"gray"},value:this.state.task.type[1],errorText:this.state.error.type,style:O.styles.formItem,onChange:function(t,a,n){return e.setSecondType(n)}},this.renderMenuItem(O.types[this.state.task.type[0]]||[])),c.default.createElement(g.default,{floatingLabelText:"数量",floatingLabelStyle:{color:"gray"},value:this.state.task.num,errorText:this.state.error.num,style:Object.assign(O.styles.formItem,{width:50}),inputStyle:{width:50},onChange:function(t,a){return e.handleChange(a,"num")}}),c.default.createElement(_.default,{floatingLabelText:"估计出库时间",floatingLabelStyle:{color:"gray"},value:null===this.state.task.estimated_export_time?this.state.task.estimated_export_time:new Date(this.state.task.estimated_export_time),errorText:this.state.error.estimated_export_time,style:O.styles.formItem,autoOk:!0,textFieldStyle:{width:150},onChange:function(t,a){return e.handleChange(+a,"estimated_export_time")}}),c.default.createElement(g.default,{floatingLabelText:"物资描述",floatingLabelStyle:{color:"gray"},value:this.state.task.description,errorText:this.state.error.description,multiLine:!0,style:Object.assign(O.styles.formItem,{width:200}),onChange:function(t,a){return e.handleChange(a,"description")}})),c.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"5 auto"}},c.default.createElement(T.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),c.default.createElement(T.default,{label:"确认入库",primary:!0,onTouchTap:this.putaway})),c.default.createElement(C.Table,{selectable:this.state.true,className:"tablePrint"},c.default.createElement(C.TableHeader,{adjustForCheckbox:this.state.isAction,displaySelectAll:this.state.isAction},">",c.default.createElement(C.TableRow,null,c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"物资类型"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"物资名称"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"物资数量"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"入库时间"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"入库地址"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17,overflow:"visible"}},"估计出库时间"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"状态"),c.default.createElement(C.TableHeaderColumn,{style:{color:"black",textAlign:"center",fontWeight:"bold",fontSize:17}},"操作"))),c.default.createElement(C.TableBody,{displayRowCheckbox:this.state.isAction,deselectOnClickaway:!1},this.renderRow.call(this))),c.default.createElement(P.default,{changePage:this.changePage.bind(this),page:this.state.page,numberOfPage:this.state.numberOfPage})))}}]),t}(c.default.Component);t.default=j},419:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(24),f=n(c),d=a(51),p=n(d),m=a(162),h=n(m),y=a(340),b=n(y),g=a(355),v=n(g),_=a(904),E=n(_),T=a(894),w=n(T),k=a(23),C=a(54),O=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={userName:"",psw:"",isRemember:!1},a.login=a.login.bind(a),a}return o(t,e),i(t,[{key:"login",value:function(e){var t={userName:this.state.userName,psw:this.state.psw},a={loginState:t,repo:e,isRem:this.state.isRemember};(0,C.login)(function(){return(0,k.changeHash)("/")},a)}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("div",{style:{width:"100%",height:"50%",backgroundColor:"#00AFCC",position:"absolute",zIndex:"-999"}}),s.default.createElement("div",{style:{width:"100%",height:"50%",backgroundColor:"#E8E7E7",position:"absolute",top:"50%",zIndex:"-999"}}),s.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},s.default.createElement(f.default,{style:{width:"40%",height:230,textAlign:"center",position:"relative"},zDepth:2},s.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.default.createElement(E.default,{style:{alignSelf:"flex-end",margin:"0 10 13 0"}}),s.default.createElement(p.default,{floatingLabelText:"用户名",floatingLabelStyle:{color:"gray"},value:this.state.userName,inputStyle:{margin:0},onChange:function(t,a){return e.setState({userName:a})}})),s.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.default.createElement(w.default,{style:{alignSelf:"flex-end",margin:"0 10 13 0"}}),s.default.createElement(p.default,{floatingLabelText:"密码",floatingLabelStyle:{color:"gray"},value:this.state.psw,type:"password",inputStyle:{margin:0},onChange:function(t,a){return e.setState({psw:a})}})),s.default.createElement("div",{style:{maxWidth:250,margin:"30 auto"}},s.default.createElement(h.default,{label:"记住用户",checked:this.state.isRemember,onCheck:function(t,a){return e.setState({isRemember:a})},style:{marginBottom:16}})),s.default.createElement(b.default,{style:{position:"absolute",top:"50%",left:"100%",marginTop:-28,marginLeft:-28},secondary:!0,onTouchTap:function(){return(0,C.getRepo)(e.login)}},s.default.createElement(v.default,null)))))}}]),t}(s.default.Component);t.default=O},420:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){return[e.id,e.type,e.number,(0,B.parsetime)(e.import_time),(0,B.parsetime)(e.estimated_export_time),(0,B.parsetime)(e.location_update_time),(0,B.parsePlace)(e)][a-1].toString().replace(/\s/g,"").indexOf(t)>=0}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[];if(1===t)return e.map(function(e,t){return d.default.createElement(g.default,{value:e,key:t,primaryText:e})});if(2===t){for(var n in e){var r=d.default.createElement(g.default,{value:n,key:n,primaryText:n});a.push(r)}return a}}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(2),d=n(f),p=a(57),m=a(40),h=a(51),y=n(h),b=a(63),g=n(b),v=a(220),_=(n(v),a(75)),E=(n(_),a(132)),T=(n(E),a(76)),w=(n(T),a(91)),k=n(w),C=a(36),O=n(C),x=a(29),S=n(x),P=a(24),j=n(P),R=a(163),A=n(R),M=a(164),D=n(M),B=a(23),N=a(54),I=a(180),L=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(I),a(82)),G=n(L),H=a(96),z=n(H),W=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isMove:!1,good:[],oriGood:[],sort:1,action:!1,selected:[],numberOfGood:0,pageNumber:1,page:1,limit:10,popOpen:!1,position:{},error:{}},a.handleChange=a.handleChange.bind(a),a.meunClick=a.meunClick.bind(a),a.doAction=a.doAction.bind(a),a.setNumberOfGood=a.setNumberOfGood.bind(a),a.initGood=a.initGood.bind(a),a.renderRowColumn=a.renderRowColumn.bind(a),a}return o(t,e),c(t,[{key:"changePage",value:function(e){var t={page:e,limit:this.state.limit,others:[{key:"status",value:100}]};(0,N.getGood)(this.initGood,t),this.setState({page:e})}},{key:"componentWillMount",value:function(){var e={others:[{key:"status",value:100}]};(0,N.getGoodNumber)(this.setNumberOfGood,e)}},{key:"initGood",value:function(e){var t=e,a=[];for(var n in t)a.push(t[n]);this.setState({good:t,oriGood:a})}},{key:"setNumberOfGood",value:function(e){var t=Math.ceil(e/this.state.limit)||1;console.log(e,t);var a={page:this.state.page,limit:this.state.limit,others:[{key:"status",value:100}]};(0,N.getGood)(this.initGood,a),this.setState({numberOfGood:e,pageNumber:t})}},{key:"handleChange",value:function(e,t,a){this.state.good;this.setState({sort:a})}},{key:"renderRow",value:function(){var e=this;return this.state.good.map(function(t,a){return e.renderRowColumn(t,a)})}},{key:"renderRowColumn",value:function(e,t){var a=(0,B.parsetime)(e.import_time),n=(0,B.parsetime)(e.estimated_export_time,0),r=(0,B.parsetime)(e.location_update_time),l=(0,B.parsePlace)(e);return d.default.createElement(m.TableRow,{key:e.id},d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.id),d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.type),d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.description),d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},a),d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},n),d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},r),d.default.createElement(m.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},l))}},{key:"doAction",value:function(){var e=this.state.selected,t=this.state.good,a=[];if("object"===(void 0===e?"undefined":s(e))&&0===e.length)return!1;if("all"===e)a=t;else{var n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var u=o.value;a.push(t[u])}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}(0,N.move)(function(){return!1},{goods:a})}},{key:"meunClick",value:function(e,t){if("printTable"===t.key){var a=new Table2Excel,n="入库单"+(0,B.parsetime)(new Date,2);a.export(document.getElementsByClassName("tablePrint")[1],n)}if("printBar"===t.key){var r=this.state.good;for(var l in r)(0,B.downloadBarCode)(r[l].material.id)}}},{key:"pick",value:function(e,t){var a=this,n=this.state.good,r=this.state.oriGood;n=t?r.filter(function(e){return i(e,t,a.state.sort)}):r,this.setState({good:n})}},{key:"render",value:function(){var e=this,t=[d.default.createElement(S.default,{label:"取消移动",primary:!0,onTouchTap:function(){return e.setState({popOpen:!1})}}),d.default.createElement(S.default,{label:"确认移动",primary:!0,keyboardFocused:!0,onTouchTap:this.doAction})];return d.default.createElement(j.default,{style:B.paperStyle,zDepth:1},d.default.createElement("div",null,d.default.createElement(G.default,null),d.default.createElement(p.Toolbar,null,d.default.createElement(p.ToolbarGroup,{firstChild:!0},d.default.createElement(k.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},d.default.createElement(g.default,{value:1,primaryText:"物资编号"}),d.default.createElement(g.default,{value:2,primaryText:"物资类型"}),d.default.createElement(g.default,{value:3,primaryText:"物资名称"}),d.default.createElement(g.default,{value:4,primaryText:"入库时间"}),d.default.createElement(g.default,{value:5,primaryText:"估计出库时间"}),d.default.createElement(g.default,{value:6,primaryText:"最近搬运时间"}),d.default.createElement(g.default,{value:7,primaryText:"所处地址"})),d.default.createElement(y.default,{hintText:"在结果中筛选",hintStyle:{color:"gray"},onChange:this.pick.bind(this)})),d.default.createElement(p.ToolbarGroup,null,d.default.createElement(O.default,{label:"系统移动",primary:!0,onTouchTap:this.doAction,style:{display:this.state.isMove?"inline-block":"none"}}),d.default.createElement(O.default,{label:"自主移动",primary:!0,onTouchTap:function(){return e.setState({popOpen:!0})},style:{display:this.state.isMove?"inline-block":"none"}}),d.default.createElement(O.default,{label:this.state.isMove?"取消移动":"选择移动",primary:!this.state.isMove,secondary:this.state.isMove,onTouchTap:function(){var t=!e.state.isMove;e.setState({isMove:t})}}))),d.default.createElement(m.Table,{selectable:!0,className:"tablePrint",multiSelectable:!0,onRowSelection:function(t){return e.setState({selected:t})}},d.default.createElement(m.TableHeader,{adjustForCheckbox:this.state.isMove,displaySelectAll:this.state.isMove},d.default.createElement(m.TableRow,null,d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"物资编号"),d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"物资类型"),d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"物资名称"),d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"入库时间"),d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black",overflow:"visible"}},"估计出库时间"),d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"最近搬运时间"),d.default.createElement(m.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"所处地址"))),d.default.createElement(m.TableBody,{deselectOnClickaway:!1,displayRowCheckbox:this.state.isMove},this.renderRow.call(this))),d.default.createElement("div",{style:{textAlign:"center"}},d.default.createElement(z.default,{changePage:this.changePage.bind(this),page:this.state.page,numberOfPage:this.state.pageNumber})),d.default.createElement(A.default,{title:"请选择摆放地址",actions:t,modal:!1,open:this.state.popOpen,onRequestClose:function(){return e.setState({popOpen:!1})}},d.default.createElement("div",{style:{width:"80%",margin:"0 auto",display:"flex",justifyContent:"flex-around"}},d.default.createElement(D.default,{floatingLabelText:"仓",floatingLabelStyle:{color:"gray"},value:this.state.position.repository_id,errorText:this.state.error.repository_id,style:{width:200},onChange:function(t,a,n){var r=e.state.position;r.repository_id=n,e.setState(r)}},u([1])),d.default.createElement(D.default,{floatingLabelText:"架",floatingLabelStyle:{color:"gray"},value:this.state.position.location_id,errorText:this.state.error.location_id,style:{width:200},onChange:function(t,a,n){var r=e.state.position;r.location_id=n,e.setState(r)}},u([1,2,3,4,5,6,7,8,9,10])),d.default.createElement(D.default,{floatingLabelText:"层",floatingLabelStyle:{color:"gray"},value:this.state.position.layer,errorText:this.state.error.layer,style:{width:200},onChange:function(t,a,n){var r=e.state.position;r.layer=n,e.setState(r)}},u([1,2,3])),d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("br",null)))))}}]),t}(d.default.Component);t.default=W},421:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(134),f=a(422),d=n(f),p=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={stepIndex:1},a}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"填写移动单")),s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"完成移动"))),s.default.createElement(d.default,null))}}]),t}(s.default.Component);t.default=p},422:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(40),f=a(225),d=n(f),p=a(36),m=n(p),h=a(23),y=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={task:{},open:!1,mes:""},a.renderRow=a.renderRow.bind(a),a.closeBar=a.closeBar.bind(a),a.putaway=a.putaway.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("movetask"));void 0===e.repository_id&&(e.repository_id=(0,h.randomNum)(1,3),e.location_id=(0,h.randomNum)(1,10),e.layer=(0,h.randomNum)(1,3)),void 0===e.from&&(e.from=(0,h.randomNum)(1,3)+" 仓 "+(0,h.randomNum)(1,10)+" 架 "+(0,h.randomNum)(1,3)+" 层 "),e.id=(0,h.makeId)();var t=(0,h.parsePlace)(e);e.to=t,e.type=e.type.join("-"),this.setState({task:e})}},{key:"renderRow",value:function(){var e=this.state.task,t=[];for(var a in e)if(h.formName[a]){var n=!("estimated_export_time"===a),r=s.default.createElement(c.TableRow,{key:a},s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},h.formName[a]),s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},n?e[a]:(0,h.parsetime)(e[a],0)));t.push(r)}return t}},{key:"cancel",value:function(){(0,h.changeHash)("move")}},{key:"putaway",value:function(){sessionStorage.removeItem("movetask"),this.setState({mes:"移动成功，3秒后返回移动页面",open:!0}),setTimeout(function(){return(0,h.changeHash)("move")},3e3)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({open:!1}),1===e&&(0,h.changeHash)("move")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Table,{selectable:!1,style:{width:"80%",margin:"0 auto"}},s.default.createElement(c.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},this.renderRow())),s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},s.default.createElement(m.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),s.default.createElement(m.default,{label:"确认",primary:!0,onTouchTap:this.putaway})),s.default.createElement(d.default,{open:this.state.open,message:this.state.mes,autoHideDuration:3e3,onRequestClose:this.closeBar,action:"立即跳转",onActionTouchTap:function(){return e.closeBar(1)}}))}}]),t}(s.default.Component);t.default=y},423:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){var n=e.material,r=n.id,l=n.type,o=e.number,i=(0,C.parsetime)(n.location_update_time),s=(0,C.parseTaskPlace)(n),c=u(s,2);return[r,l,o,i,c[0],c[1]][a-1].toString().replace(/\s/g,"").indexOf(t)>=0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(57),p=a(40),m=a(63),h=n(m),y=a(91),b=n(y),g=a(36),v=n(g),_=a(29),E=(n(_),a(51)),T=n(E),w=a(24),k=n(w),C=a(23),O=a(54),x=a(181),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(x),a(82)),P=n(S),j=a(96),R=n(j),A=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={task:[],oriTask:[],sort:1,choose:!1,selectes:[],page:1,limit:10,numberOfPage:1,numberOfGood:0},a.handleChange=a.handleChange.bind(a),a.setNumberOfGood=a.setNumberOfGood.bind(a),a.initTask=a.initTask.bind(a),a}return o(t,e),s(t,[{key:"changePage",value:function(e){var t={page:e,limit:this.state.limit,others:[{key:"action",value:501}]};(0,O.getTask)(this.initTask,t),this.setState({page:e})}},{key:"componentWillMount",value:function(){var e={others:[{key:"action",value:501}]};(0,O.getTaskNumber)(this.setNumberOfGood,e)}},{key:"initTask",value:function(e){var t=e,a=[];for(var n in t)a.push(t[n]);this.setState({task:t,oriTask:a})}},{key:"setNumberOfGood",value:function(e){var t=Math.ceil(e/this.state.limit)||1,a={page:this.state.page,limit:this.state.limit,others:[{key:"action",value:501}]};(0,O.getTask)(this.initTask,a),this.setState({numberOfGood:e,numberOfPage:t})}},{key:"handleChange",value:function(e,t,a){this.setState({sort:a})}},{key:"renderRow",value:function(){return this.state.task.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=e.material,a=(0,C.parsetime)(t.location_update_time),n=(0,C.parseTaskPlace)(e.migration),r=u(n,2),l=r[0],o=r[1],i=["未开始","进行中","已完成","已取消"][e.status];return f.default.createElement(p.TableRow,{key:t.id},f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},t.id),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},t.type),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},t.description),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},a),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},l),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},o),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},i),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},f.default.createElement(v.default,{label:"详情",onTouchTap:function(){return(0,C.changeHash)("/task/task_"+e._id)}})))}},{key:"addPutaway",value:function(){(0,C.changeHash)("move")}},{key:"printTable",value:function(){var e=new Table2Excel,t="入库单"+(0,C.parsetime)(new Date,2);e.export(document.getElementsByClassName("tablePrint")[1],t)}},{key:"printBar",value:function(){if(this.state.choose){var e=this.state.task;this.state.selectes.map(function(t){return(0,C.downloadBarCode)(e[t-1].material.id)}),this.setState({choose:!1})}else this.setState({choose:!0})}},{key:"pick",value:function(e,t){var a=this,n=this.state.task,r=this.state.oriTask;n=t?r.filter(function(e){return i(e,t,a.state.sort)}):r,this.setState({task:n})}},{key:"render",value:function(){var e=this;return f.default.createElement(k.default,{style:C.paperStyle,zDepth:1},f.default.createElement("div",null,f.default.createElement(P.default,null),f.default.createElement(d.Toolbar,null,f.default.createElement(d.ToolbarGroup,{firstChild:!0},f.default.createElement(b.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},f.default.createElement(h.default,{value:1,primaryText:"物资编号"}),f.default.createElement(h.default,{value:2,primaryText:"物资类型"}),f.default.createElement(h.default,{value:3,primaryText:"物资数量"}),f.default.createElement(h.default,{value:4,primaryText:"下单时间"}),f.default.createElement(h.default,{value:5,primaryText:"原始位置"}),f.default.createElement(h.default,{value:6,primaryText:"目的地址"})),f.default.createElement(T.default,{hintText:"在结果中筛选",hintStyle:{color:"gray"},onChange:this.pick.bind(this)})),f.default.createElement(d.ToolbarGroup,null,f.default.createElement(d.ToolbarSeparator,null),f.default.createElement(v.default,{label:"打印入库单",primary:!0,onTouchTap:this.printTable.bind(this)}),f.default.createElement(v.default,{label:this.state.choose?"打印条形码":"选择打印条形码",primary:!0,onTouchTap:this.printBar.bind(this)}))),f.default.createElement(p.Table,{multiSelectable:this.state.choose,selectable:this.state.choose,onRowSelection:function(t){return e.setState({selectes:t})},className:"tablePrint"},f.default.createElement(p.TableBody,{displayRowCheckbox:this.state.choose,deselectOnClickaway:!1},f.default.createElement(p.TableRow,{selectable:!1},f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资编号"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资类型"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资名称"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"下单时间"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"原始位置"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"目的地址"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"状态"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"详情")),this.renderRow.call(this))),f.default.createElement("div",{style:{textAlign:"center"}},f.default.createElement(R.default,{changePage:this.changePage.bind(this),page:this.state.page,numberOfPage:this.state.numberOfPage}))))}}]),t}(f.default.Component);t.default=A},424:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){return[e.id,e.type,e.number,(0,P.parsetime)(e.import_time),(0,P.parsetime)(e.estimated_export_time),(0,P.parsetime)(e.location_update_time),(0,P.parsePlace)(e)][a-1].toString().replace(/\s/g,"").indexOf(t)>=0}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(57),p=a(40),m=a(51),h=n(m),y=a(63),b=n(y),g=a(220),v=(n(g),a(75)),_=(n(v),a(132)),E=(n(_),a(76)),T=(n(E),a(91)),w=n(T),k=a(36),C=n(k),O=a(29),x=(n(O),a(24)),S=n(x),P=a(23),j=a(54),R=a(180),A=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(R),a(82)),M=n(A),D=a(96),B=n(D),N=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isMove:!1,good:[],oriGood:[],sort:1,action:!1,selected:[],numberOfGood:0,pageNumber:1,page:1,limit:10,position:{},error:{}},a.handleChange=a.handleChange.bind(a),a.meunClick=a.meunClick.bind(a),a.doAction=a.doAction.bind(a),a.setNumberOfGood=a.setNumberOfGood.bind(a),a.initGood=a.initGood.bind(a),a.renderRowColumn=a.renderRowColumn.bind(a),a}return o(t,e),s(t,[{key:"changePage",value:function(e){var t={page:e,limit:this.state.limit,others:[{key:"status",value:100}]};(0,j.getGood)(this.initGood,t),this.setState({page:e})}},{key:"componentWillMount",value:function(){var e={others:[{key:"status",value:100}]};(0,j.getGoodNumber)(this.setNumberOfGood,e)}},{key:"initGood",value:function(e){var t=e,a=[];for(var n in t)a.push(t[n]);this.setState({good:t,oriGood:a})}},{key:"setNumberOfGood",value:function(e){var t=Math.ceil(e/this.state.limit)||1,a={page:this.state.page,limit:this.state.limit,others:[{key:"status",value:100}]};(0,j.getGood)(this.initGood,a),this.setState({numberOfGood:e,pageNumber:t})}},{key:"handleChange",value:function(e,t,a){this.state.good;this.setState({sort:a})}},{key:"renderRow",value:function(){return this.state.good.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e,t){var a=(0,P.parsetime)(e.import_time),n=(0,P.parsetime)(e.estimated_export_time,0),r=(0,P.parsetime)(e.location_update_time),l=(0,P.parsePlace)(e);return f.default.createElement(p.TableRow,{key:e.id},f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.id),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.type),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},e.description),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},a),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},n),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},r),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},l))}},{key:"doAction",value:function(){var e=this.state.selected,t=this.state.good,a=[];if("object"===(void 0===e?"undefined":u(e))&&0===e.length)return!1;if("all"===e)a=t;else{var n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;a.push(t[s])}}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}}var c={repository:-1,location:0,layer:0,num:a.length};(0,j.move)(function(){return!1},{goods:a,place:c})}},{key:"meunClick",value:function(e,t){if("printTable"===t.key){var a=new Table2Excel,n="入库单"+(0,P.parsetime)(new Date,2);a.export(document.getElementsByClassName("tablePrint")[1],n)}if("printBar"===t.key){var r=this.state.good;for(var l in r)(0,P.downloadBarCode)(r[l].material.id)}}},{key:"pick",value:function(e,t){var a=this,n=this.state.good,r=this.state.oriGood;n=t?r.filter(function(e){return i(e,t,a.state.sort)}):r,this.setState({good:n})}},{key:"render",value:function(){var e=this;return f.default.createElement(S.default,{style:P.paperStyle,zDepth:1},f.default.createElement("div",null,f.default.createElement(M.default,null),f.default.createElement(d.Toolbar,null,f.default.createElement(d.ToolbarGroup,{firstChild:!0},f.default.createElement(w.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},f.default.createElement(b.default,{value:1,primaryText:"物资编号"}),f.default.createElement(b.default,{value:2,primaryText:"物资类型"}),f.default.createElement(b.default,{value:3,primaryText:"物资名称"}),f.default.createElement(b.default,{value:4,primaryText:"入库时间"}),f.default.createElement(b.default,{value:5,primaryText:"估计出库时间"}),f.default.createElement(b.default,{value:6,primaryText:"最近搬运时间"}),f.default.createElement(b.default,{value:7,primaryText:"所处地址"})),f.default.createElement(h.default,{hintText:"在结果中筛选",hintStyle:{color:"gray"},onChange:this.pick.bind(this)})),f.default.createElement(d.ToolbarGroup,null,f.default.createElement(C.default,{label:"确认出库",primary:!0,onTouchTap:this.doAction,style:{display:this.state.isMove?"inline-block":"none"}}),f.default.createElement(C.default,{label:this.state.isMove?"取消出库":"选择出库",primary:!this.state.isMove,secondary:this.state.isMove,onTouchTap:function(){var t=!e.state.isMove;e.setState({isMove:t})}}))),f.default.createElement(p.Table,{selectable:!0,className:"tablePrint",multiSelectable:!0,onRowSelection:function(t){return e.setState({selected:t})}},f.default.createElement(p.TableHeader,{adjustForCheckbox:this.state.isMove,displaySelectAll:this.state.isMove},f.default.createElement(p.TableRow,null,f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"物资编号"),f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"物资类型"),f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"物资名称"),f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"入库时间"),f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black",overflow:"visible"}},"估计出库时间"),f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"最近搬运时间"),f.default.createElement(p.TableHeaderColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17,color:"black"}},"所处地址"))),f.default.createElement(p.TableBody,{deselectOnClickaway:!1,displayRowCheckbox:this.state.isMove},this.renderRow.call(this))),f.default.createElement("div",{style:{textAlign:"center"}},f.default.createElement(B.default,{changePage:this.changePage.bind(this),page:this.state.page,numberOfPage:this.state.pageNumber}))))}}]),t}(f.default.Component);t.default=N},425:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(134),f=a(426),d=n(f),p=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={stepIndex:1},a}return o(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"填写出库单")),s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"完成出库"))),s.default.createElement(d.default,null))}}]),t}(s.default.Component);t.default=p},426:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(40),f=a(225),d=n(f),p=a(36),m=n(p),h=a(23),y=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={task:{},open:!1,mes:""},a.renderRow=a.renderRow.bind(a),a.closeBar=a.closeBar.bind(a),a.putaway=a.putaway.bind(a),a}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("outtask"));void 0===e.from&&(e.from=(0,h.randomNum)(1,3)+" 仓 "+(0,h.randomNum)(1,10)+" 架 "+(0,h.randomNum)(1,3)+" 层 "),e.id=(0,h.makeId)(),e.type=e.type.join("-"),this.setState({task:e})}},{key:"renderRow",value:function(){var e=this.state.task,t=[];for(var a in e)if(h.formName[a]){var n=!("estimated_export_time"===a),r=s.default.createElement(c.TableRow,{key:a},s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},h.formName[a]),s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},n?e[a]:(0,h.parsetime)(e[a],0)));t.push(r)}return t}},{key:"cancel",value:function(){(0,h.changeHash)("out")}},{key:"putaway",value:function(){sessionStorage.removeItem("outtask"),this.setState({mes:"移动成功，3秒后返回移动页面",open:!0}),setTimeout(function(){return(0,h.changeHash)("out")},3e3)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({open:!1}),1===e&&(0,h.changeHash)("out")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Table,{selectable:!1,style:{width:"80%",margin:"0 auto"}},s.default.createElement(c.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},this.renderRow())),s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},s.default.createElement(m.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),s.default.createElement(m.default,{label:"确认",primary:!0,onTouchTap:this.putaway})),s.default.createElement(d.default,{open:this.state.open,message:this.state.mes,autoHideDuration:3e3,onRequestClose:this.closeBar,action:"立即跳转",onActionTouchTap:function(){return e.closeBar(1)}}))}}]),t}(s.default.Component);t.default=y},427:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,a){var n=e.material,r=n.id,l=n.type,o=e.number,i=(0,C.parsetime)(n.location_update_time),s=(0,C.parseTaskPlace)(n),c=u(s,2);return[r,l,o,i,c[0],c[1]][a-1].toString().replace(/\s/g,"").indexOf(t)>=0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(57),p=a(40),m=a(63),h=n(m),y=a(91),b=n(y),g=a(36),v=n(g),_=a(29),E=(n(_),a(51)),T=n(E),w=a(24),k=n(w),C=a(23),O=a(54),x=a(181),S=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t.default=e}(x),a(82)),P=n(S),j=a(96),R=n(j),A=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={task:[],oriTask:[],sort:1,choose:!1,selectes:[],page:1,limit:10,numberOfPage:1,numberOfGood:0},a.handleChange=a.handleChange.bind(a),a.setNumberOfGood=a.setNumberOfGood.bind(a),a.initTask=a.initTask.bind(a),a}return o(t,e),s(t,[{key:"changePage",value:function(e){var t={page:e,limit:this.state.limit,others:[{key:"action",value:502}]};(0,O.getTask)(this.initTask,t),this.setState({page:e})}},{key:"componentWillMount",value:function(){var e={others:[{key:"action",value:502}]};(0,O.getTaskNumber)(this.setNumberOfGood,e)}},{key:"initTask",value:function(e){var t=e,a=[];for(var n in t)a.push(t[n]);this.setState({task:t,oriTask:a})}},{key:"setNumberOfGood",value:function(e){var t=Math.ceil(e/this.state.limit)||1,a={page:this.state.page,limit:this.state.limit,others:[{key:"action",value:502}]};(0,O.getTask)(this.initTask,a),this.setState({numberOfGood:e,numberOfPage:t})}},{key:"handleChange",value:function(e,t,a){this.setState({sort:a})}},{key:"renderRow",value:function(){return this.state.task.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=e.material,a=(0,C.parsetime)(t.location_update_time),n=(0,C.parseTaskPlace)(e.migration),r=u(n,2),l=r[0],o=r[1],i=["未开始","进行中","已完成","已取消"][e.status];return f.default.createElement(p.TableRow,{key:t.id},f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},t.id),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},t.type),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},t.description),f.default.createElement(p.TableRowColumn,{style:{overflow:"visible",textAlign:"center"}},a),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},l),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},o),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},i),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center"}},f.default.createElement(v.default,{label:"详情",onTouchTap:function(){return(0,C.changeHash)("/task/task_"+e._id)}})))}},{key:"addPutaway",value:function(){(0,C.changeHash)("move")}},{key:"printTable",value:function(){var e=new Table2Excel,t="入库单"+(0,C.parsetime)(new Date,2);e.export(document.getElementsByClassName("tablePrint")[1],t)}},{key:"printBar",value:function(){if(this.state.choose){var e=this.state.task;this.state.selectes.map(function(t){return(0,C.downloadBarCode)(e[t-1].material.id)}),this.setState({choose:!1})}else this.setState({choose:!0})}},{key:"pick",value:function(e,t){var a=this,n=this.state.task,r=this.state.oriTask;n=t?r.filter(function(e){return i(e,t,a.state.sort)}):r,this.setState({task:n})}},{key:"render",value:function(){var e=this;return f.default.createElement(k.default,{style:C.paperStyle,zDepth:1},f.default.createElement("div",null,f.default.createElement(P.default,null),f.default.createElement(d.Toolbar,null,f.default.createElement(d.ToolbarGroup,{firstChild:!0},f.default.createElement(b.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},f.default.createElement(h.default,{value:1,primaryText:"物资编码"}),f.default.createElement(h.default,{value:2,primaryText:"物资类型"}),f.default.createElement(h.default,{value:3,primaryText:"物资名称"}),f.default.createElement(h.default,{value:4,primaryText:"下单时间"}),f.default.createElement(h.default,{value:5,primaryText:"原始位置"}),f.default.createElement(h.default,{value:6,primaryText:"目的地址"})),f.default.createElement(T.default,{hintText:"在结果中筛选",hintStyle:{color:"gray"},onChange:this.pick.bind(this)})),f.default.createElement(d.ToolbarGroup,null,f.default.createElement(d.ToolbarSeparator,null),f.default.createElement(v.default,{label:"打印入库单",primary:!0,onTouchTap:this.printTable.bind(this)}),f.default.createElement(v.default,{label:this.state.choose?"打印条形码":"选择打印条形码",primary:!0,onTouchTap:this.printBar.bind(this)}))),f.default.createElement(p.Table,{multiSelectable:this.state.choose,selectable:this.state.choose,onRowSelection:function(t){return e.setState({selectes:t})},className:"tablePrint"},f.default.createElement(p.TableBody,{displayRowCheckbox:this.state.choose,deselectOnClickaway:!1},f.default.createElement(p.TableRow,{selectable:!1},f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资编号"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资类型"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"物资数量"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"下单时间"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"原始位置"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"目的地址"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"状态"),f.default.createElement(p.TableRowColumn,{style:{textAlign:"center",fontWeight:"bold",fontSize:17}},"详情")),this.renderRow.call(this))),f.default.createElement("div",{style:{textAlign:"center"}},f.default.createElement(R.default,{changePage:this.changePage.bind(this),page:this.state.page,numberOfPage:this.state.numberOfPage}))))}}]),t}(f.default.Component);t.default=A},428:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(57),f=a(36),d=n(f),p=a(342),m=(n(p),a(76)),h=n(m),y=a(219),b=(n(y),a(40)),g=a(145),v=n(g),_=a(23),E={margin:0,border:"1px #EAEAEA solid",position:"relative"},T=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={open:!0,from:new Date,to:new Date},a}return o(t,e),i(t,[{key:"componentDidMount",value:function(){var e=v.default.init(document.getElementById("goodsNum")),t={title:{text:"货物类型数量饼状图"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:"55%",data:[{value:100,name:"生活电器"},{value:200,name:"电脑办公"},{value:300,name:"衣物服饰"},{value:400,name:"酒水饮料"},{value:300,name:"食品生鲜"}].sort(function(e,t){return e.value>t.value})}]};e.setOption(t);var a=v.default.init(document.getElementById("missionsNum")),n={title:{text:"任务数量饼状图"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:"55%",data:[{value:2124,name:"入库"},{value:765,name:"移动"},{value:4576,name:"出库"}].sort(function(e,t){return e.value>t.value})}]};a.setOption(n);var r=v.default.init(document.getElementById("personNum")),l={title:{text:"工龄饼状图"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:"55%",data:[{value:388,name:"半年内"},{value:712,name:"一年内"},{value:180,name:"三年内"},{value:260,name:"三年以上"}].sort(function(e,t){return e.value>t.value})}]};r.setOption(l);var o=v.default.init(document.getElementById("timeLength")),i={title:{text:"物品入库时长"},tooltip:{},legend:{data:["时长"]},xAxis:{data:["1周内","7-30天","半年","一年","1-3年","3年以上"]},yAxis:{},series:[{name:"时长",type:"bar",data:[5,20,36,10,10,20]}]};o.setOption(i)}},{key:"renderRow",value:function(e){return[{name:"李世明",number:(0,_.randomNum)(1e3,5e3)},{name:"陶行知",number:(0,_.randomNum)(1e3,5e3)},{name:"唐玄宗",number:(0,_.randomNum)(1e3,5e3)},{name:"黄贯中",number:(0,_.randomNum)(1e3,5e3)},{name:"汉高祖",number:(0,_.randomNum)(1e3,5e3)}].sort(function(e,t){return e.number<t.number}).map(function(t,a){var n=t.number-e;return s.default.createElement(b.TableRow,{key:a},s.default.createElement(b.TableRowColumn,null,a+1),s.default.createElement(b.TableRowColumn,null,t.name),s.default.createElement(b.TableRowColumn,{style:{color:n>0?"red":"green"}},n>0?"+"+n.toString():n.toString()))})}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Toolbar,null,s.default.createElement(c.ToolbarGroup,{firstChild:!0},s.default.createElement(c.ToolbarTitle,{text:"统计管理",style:{marginLeft:20}})),s.default.createElement(c.ToolbarGroup,null,s.default.createElement(d.default,{label:"今日",style:E}),s.default.createElement(d.default,{label:"最近一周",style:E}),s.default.createElement(d.default,{label:"最近一月",style:E}),s.default.createElement(d.default,{label:"自定义",icon:s.default.createElement(h.default,null),labelPosition:"before",style:E,onTouchTap:function(t){return e.setState({open:!0,anchorEl:t.currentTarget})}}))),s.default.createElement("div",{style:{marginBottom:50,padding:30}},s.default.createElement("div",{style:{width:"33%",height:300,display:"inline-block"},id:"goodsNum"}),s.default.createElement("div",{style:{width:"33%",height:300,display:"inline-block"},id:"missionsNum"}),s.default.createElement("div",{style:{width:"33%",height:300,display:"inline-block"},id:"personNum"})),s.default.createElement("div",{style:{marginBottom:50,padding:30}},s.default.createElement("div",{style:{width:"50%",height:300,display:"inline-block"},id:"timeLength"}),s.default.createElement("div",{style:{width:"50%",height:300,display:"inline-block"},id:"persionMission"},s.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},s.default.createElement("b",{style:{fontSize:18}},"任务量反馈"),s.default.createElement("span",{style:{fontSize:16}},"平均值:3480")),s.default.createElement(b.Table,null,s.default.createElement(b.TableBody,{displayRowCheckbox:!1},s.default.createElement(b.TableRow,null,s.default.createElement(b.TableRowColumn,null,"#"),s.default.createElement(b.TableRowColumn,null,"姓名"),s.default.createElement(b.TableRowColumn,null,"完成任务量")),this.renderRow(3480))))))}}]),t}(s.default.Component);t.default=T},429:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return[(0,v.randomNum)(1,100),(0,v.randomNum)(100,300),(0,v.randomNum)(300,400),(0,v.randomNum)(400,600),(0,v.randomNum)(600,700),(0,v.randomNum)(700,900),(0,v.randomNum)(900,1e3)]}function u(e){var t=E.default.init(document.getElementById("map")),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["所有种类","生活电器","电脑办公","衣物服饰","酒水饮料","食品生鲜"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["1周内","1月内","3月内","半年内","1年内","3年内","大于三年"]}],yAxis:[{type:"value"}],series:[{name:"所有种类",type:"bar",data:e[0]},{name:"生活电器",type:"bar",stack:"生活电器",data:e[1]},{name:"电脑办公",type:"bar",barWidth:10,stack:"电脑办公",data:e[2]},{name:"衣物服饰",type:"bar",stack:"衣物服饰",data:e[3]},{name:"酒水饮料",type:"bar",stack:"搜索引擎",data:e[4]},{name:"食品生鲜",type:"bar",stack:"食品生鲜",data:e[5]}]};t.setOption(a)}function s(e){var t=[],a=["1周内","1月内","3月内","半年内","1年内","3年内","大于三年"];for(var n in e){var r=e[n],l=d.default.createElement(m.TableRow,{key:n},d.default.createElement(m.TableRowColumn,null,parseInt(n)+1),d.default.createElement(m.TableRowColumn,null,a[n]),d.default.createElement(m.TableRowColumn,null,r));t.push(l)}return t}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=a(2),d=n(f),p=a(57),m=a(40),h=a(36),y=n(h),b=a(76),g=n(b),v=a(23),_=a(145),E=n(_),T={margin:0,border:"1px #EAEAEA solid",position:"relative"},w=function(e,t){for(var a=[[],i(),i(),i(),i(),i()],n=0;n<7;n++)a[0][n]=a[1][n]+a[2][n]+a[3][n]+a[4][n]+a[5][n];return a}(),k=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:[]},a.setData=a.setData.bind(a),a}return o(t,e),c(t,[{key:"setData",value:function(e){this.setState({data:e})}},{key:"getData",value:function(e){this.setState({data:e[0]}),u(e)}},{key:"componentDidMount",value:function(){this.getData(w)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement(p.Toolbar,null,d.default.createElement(p.ToolbarGroup,{firstChild:!0},d.default.createElement(p.ToolbarTitle,{text:"入库时长统计",style:{marginLeft:20}})),d.default.createElement(p.ToolbarGroup,null,d.default.createElement(y.default,{label:"所有种类",style:T,onTouchTap:function(){return e.setData(w[0])}}),d.default.createElement(y.default,{label:"生活电器",style:T,onTouchTap:function(){return e.setData(w[1])}}),d.default.createElement(y.default,{label:"电脑办公",style:T,onTouchTap:function(){return e.setData(w[2])}}),d.default.createElement(y.default,{label:"衣物服饰",style:T,onTouchTap:function(){return e.setData(w[3])}}),d.default.createElement(y.default,{label:"酒水饮料",style:T,onTouchTap:function(){return e.setData(w[4])}}),d.default.createElement(y.default,{label:"食品生鲜",style:T,onTouchTap:function(){return e.setData(w[5])}}),d.default.createElement(y.default,{label:"自定义",icon:d.default.createElement(g.default,null),labelPosition:"before",style:T,onTouchTap:function(t){return e.setState({open:!0,anchorEl:t.currentTarget})}}))),d.default.createElement("div",null,d.default.createElement("div",{style:{width:"66%",minHeight:"70%",display:"inline-block"},id:"map"}),d.default.createElement("div",{style:{width:"33%",display:"inline-block",verticalAlign:"top",paddingTop:60}},d.default.createElement(m.Table,null,d.default.createElement(m.TableBody,{displayRowCheckbox:!1},d.default.createElement(m.TableRow,null,d.default.createElement(m.TableRowColumn,null,"#"),d.default.createElement(m.TableRowColumn,null,"类型"),d.default.createElement(m.TableRowColumn,null,"数量")),s(this.state.data))))))}}]),t}(d.default.Component);t.default=k},430:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=v.default.init(document.getElementById("map")),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:"55%",data:e.sort(function(e,t){return e.value>t.value})}]};t.setOption(a)}function u(e){var t=[];for(var a in e){var n=e[a],r=f.default.createElement(p.TableRow,{key:a},f.default.createElement(p.TableRowColumn,null,parseInt(a)+1),f.default.createElement(p.TableRowColumn,null,n.name),f.default.createElement(p.TableRowColumn,null,n.value));t.push(r)}return t}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(57),p=a(40),m=a(36),h=n(m),y=a(76),b=n(y),g=a(145),v=n(g),_={margin:0,border:"1px #EAEAEA solid",position:"relative"},E=[[{value:100,name:"生活电器"},{value:200,name:"电脑办公"},{value:300,name:"衣物服饰"},{value:400,name:"酒水饮料"},{value:300,name:"食品生鲜"}],[{value:854,name:"生活电器"},{value:924,name:"电脑办公"},{value:705,name:"衣物服饰"},{value:670,name:"酒水饮料"},{value:970,name:"食品生鲜"}],[{value:4590,name:"生活电器"},{value:7690,name:"电脑办公"},{value:4890,name:"衣物服饰"},{value:1860,name:"酒水饮料"},{value:8739,name:"食品生鲜"}]],T=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:[]},a}return o(t,e),s(t,[{key:"getData",value:function(e){this.setState({data:e}),i(e)}},{key:"componentDidMount",value:function(){this.getData(E[0])}},{key:"render",value:function(){var e=this;return f.default.createElement("div",null,f.default.createElement(d.Toolbar,null,f.default.createElement(d.ToolbarGroup,{firstChild:!0},f.default.createElement(d.ToolbarTitle,{text:"货物类型统计",style:{marginLeft:20}})),f.default.createElement(d.ToolbarGroup,null,f.default.createElement(h.default,{label:"今日",style:_,onTouchTap:function(){return e.getData(E[0])}}),f.default.createElement(h.default,{label:"最近一周",style:_,onTouchTap:function(){return e.getData(E[1])}}),f.default.createElement(h.default,{label:"最近一月",style:_,onTouchTap:function(){return e.getData(E[2])}}),f.default.createElement(h.default,{label:"自定义",icon:f.default.createElement(b.default,null),labelPosition:"before",style:_,onTouchTap:function(t){return e.setState({open:!0,anchorEl:t.currentTarget})}}))),f.default.createElement("div",null,f.default.createElement("div",{style:{width:"33%",minHeight:"70%",display:"inline-block"},id:"map"}),f.default.createElement("div",{style:{width:"66%",display:"inline-block",verticalAlign:"top",paddingTop:60}},f.default.createElement(p.Table,null,f.default.createElement(p.TableBody,{displayRowCheckbox:!1},f.default.createElement(p.TableRow,null,f.default.createElement(p.TableRowColumn,null,"#"),f.default.createElement(p.TableRowColumn,null,"类型"),f.default.createElement(p.TableRowColumn,null,"数量")),u(this.state.data))))))}}]),t}(f.default.Component);t.default=T},431:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=v.default.init(document.getElementById("map")),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:"55%",data:e.sort(function(e,t){return e.value>t.value})}]};t.setOption(a)}function u(e){var t=[];for(var a in e){var n=e[a],r=f.default.createElement(p.TableRow,{key:a},f.default.createElement(p.TableRowColumn,null,parseInt(a)+1),f.default.createElement(p.TableRowColumn,null,n.name),f.default.createElement(p.TableRowColumn,null,n.value));t.push(r)}return t}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(2),f=n(c),d=a(57),p=a(40),m=a(36),h=n(m),y=a(76),b=n(y),g=a(145),v=n(g),_={margin:0,border:"1px #EAEAEA solid",position:"relative"},E=[[{value:2124,name:"入库"},{value:765,name:"移动"},{value:4576,name:"出库"}],[{value:9805,name:"入库"},{value:860,name:"移动"},{value:6890,name:"出库"}],[{value:25960,name:"入库"},{value:49886,name:"移动"},{value:19860,name:"出库"}]],T=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:[]},a}return o(t,e),s(t,[{key:"getData",value:function(e){this.setState({data:e}),i(e)}},{key:"componentDidMount",value:function(){this.getData(E[0])}},{key:"render",value:function(){var e=this;return f.default.createElement("div",null,f.default.createElement(d.Toolbar,null,f.default.createElement(d.ToolbarGroup,{firstChild:!0},f.default.createElement(d.ToolbarTitle,{text:"任务数量统计",style:{marginLeft:20}})),f.default.createElement(d.ToolbarGroup,null,f.default.createElement(h.default,{label:"今日",style:_,onTouchTap:function(){return e.getData(E[0])}}),f.default.createElement(h.default,{label:"最近一周",style:_,onTouchTap:function(){return e.getData(E[1])}}),f.default.createElement(h.default,{label:"最近一月",style:_,onTouchTap:function(){return e.getData(E[2])}}),f.default.createElement(h.default,{label:"自定义",icon:f.default.createElement(b.default,null),labelPosition:"before",style:_,onTouchTap:function(t){return e.setState({open:!0,anchorEl:t.currentTarget})}}))),f.default.createElement("div",null,f.default.createElement("div",{style:{width:"33%",minHeight:"70%",display:"inline-block"},id:"map"}),f.default.createElement("div",{style:{width:"66%",display:"inline-block",verticalAlign:"top",paddingTop:60}},f.default.createElement(p.Table,null,f.default.createElement(p.TableBody,{displayRowCheckbox:!1},f.default.createElement(p.TableRow,null,f.default.createElement(p.TableRowColumn,null,"#"),f.default.createElement(p.TableRowColumn,null,"类型"),f.default.createElement(p.TableRowColumn,null,"数量")),u(this.state.data))))))}}]),t}(f.default.Component);t.default=T},432:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCtlDateTimePickField=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(2),c=n(s),f=a(347),d=n(f),p=a(219),m=n(p),h=a(16),y=n(h),b=a(890),g=n(b),v=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=void 0,o="",i=a.props.judgeFunc;return a.props.value&&(n=new Date(a.props.value),o=i(n)?"":a.props.errString),a.state={isError:0,value:n,errValue:o},a.errorColor=a.props.muiTheme.textField.errorColor,a.errorStyle={position:"abstract",bottom:2,fontSize:12,lineHeight:"12px",color:a.errorColor,transition:y.default.easeOut()},a.ctlJudge_and_changeText=a.ctlJudge_and_changeText.bind(a),a.handleOnDateChange=a.handleOnDateChange.bind(a),a.handleOnTimeChange=a.handleOnTimeChange.bind(a),a.handleOnDateDismiss=a.handleOnDateDismiss.bind(a),a}return o(t,e),u(t,[{key:"ctlJudge_and_changeText",value:function(e,t,a){(0,this.props.judgeFunc)(e)?(this.setState({errValue:""}),t&&t(e)):(this.setState({errValue:this.props.errString}),a&&a(e))}},{key:"componentWillReceiveProps",value:function(e){e.value&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"combineDateAndTime",value:function(e,t){return new Date(864e5*Math.floor(e/864e5)+Math.floor(t%864e5))}},{key:"handleOnDateChange",value:function(e,t){if(!this.state.value)return this.handleOnDateDismiss(t);t=this.combineDateAndTime(t,this.state.value),this.handleOnDateDismiss(t)}},{key:"handleOnTimeChange",value:function(e,t){if(!this.state.value)return this.handleOnDateDismiss(t);t=this.combineDateAndTime(this.state.value,t),this.handleOnDateDismiss(t)}},{key:"handleOnDateDismiss",value:function(e){var t=this;this.ctlJudge_and_changeText(e||this.state.value,function(e){e!==t.state.value&&(t.setState({value:e,isError:0}),t.props.callback(e))},function(e){1!==t.state.isError&&(t.setState({isError:1}),t.props.errCallback(e))})}},{key:"render",value:function(){var e=Object.assign({},{height:48},this.props.style),t=this.state.errValue&&c.default.createElement("div",{style:this.errorStyle},this.state.errValue),a=Object.assign({},{textFieldStyle:{width:100}},this.props.dateprops),n=Object.assign({},{textFieldStyle:{width:64},format:"24hr"},this.props.timeprops);return c.default.createElement("div",{style:e},c.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"bottom"}},c.default.createElement(m.default,i({},a,{defaultDate:this.state.value,errorText:this.state.errValue?" ":"",onChange:this.handleOnDateChange,onDismiss:this.handleOnDateDismiss,style:{display:"inline-block"}})),c.default.createElement(d.default,i({},n,{defaultTime:this.state.value,errorText:this.state.errValue?" ":"",onChange:this.handleOnTimeChange,onDismiss:this.handleOnDateDismiss,style:{display:"inline-block"}}))),t)}}]),t}(s.Component);v.propTypes={style:c.default.PropTypes.object,timeprops:c.default.PropTypes.object,dateprops:c.default.PropTypes.object,judgeFunc:c.default.PropTypes.func.isRequired,errString:c.default.PropTypes.string,errCallback:c.default.PropTypes.func,callback:c.default.PropTypes.func},v.defaultProps={style:{},timeprops:{},dateprops:{},judgeFunc:function(e){return e},errString:"Your input is wrong!",errCallback:function(){return console.log("error value")},callback:function(){return console.log("true value")}};t.BaseCtlDateTimePickField=(0,g.default)()(v)},54:function(e,t,a){"use strict";function n(e){return sessionStorage.getItem(e)||localStorage.getItem(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteGood=t.move=t.getTaskNumber=t.getTask=t.getGood=t.getGoodNumber=t.putaway=t.mergeGoods=t.getLoc=t.login=t.getRepo=t.getTaskById=t.getGoodById=t.getMigrationsById=t.getTaskByMigrationId=void 0;var r=a(1033),l=function(e){return e&&e.__esModule?e:{default:e}}(r),o=(t.getTaskByMigrationId=function(e){return l.default.get("/api/migration/"+e+"/task").set("Accept","application/json").then(function(e){return e.body})},t.getMigrationsById=function(e){return l.default.get("/api/material/"+e+"/migrations").set("Accept","application/json").then(function(e){return e.body})},t.getGoodById=function(e){return l.default.get("/api/material/"+e).set("Accept","application/json").then(function(e){return e.body})},t.getTaskById=function(e){return l.default.get("/api/task/"+e).set("Accept","application/json").then(function(e){return e.body})},t.getRepo=function(e){l.default.get("/api/repositories").set("Accept","application/json").end(function(t,a){var n=JSON.parse(a.text);e(n)})},t.login=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.isRem,n=t.loginState,r=t.repo,l=r[0].id;a?(localStorage.setItem("loginState",JSON.stringify(n)),localStorage.setItem("repoid",l)):(sessionStorage.setItem("loginState",JSON.stringify(n)),sessionStorage.setItem("repoid",l)),e()},t.getLoc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n("repoid"),r="/api/repository/"+a+"/empty-location?num="+(t.num||1);l.default.get(r).set("Accept","application/json").end(function(t,a){var n=a.statusCode,r=JSON.parse(a.text);if(200===n){var l=JSON.parse(a.text).filter(function(e){return 0!==e.num});e(l)}else console.log(n,r),alert("失败 ： "+r.error)})}),i=t.mergeGoods=function(e){var t={};for(var a in e){var n=""+e[a].repository_id+e[a].location_id+e[a].layer+e[a].import_time;t[n]?(t[n].number+=1,t[n]._id.push(e[a]._id),t[n].id.push(e[a].id)):(t[n]=[],e[a].number=1,e[a]._id=[e[a]._id],e[a].id=[e[a].id],t[n]=e[a])}return Object.values(t)};t.putaway=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.task,n=function(t){for(var n=t.length,r=a.type.join("-"),o=a.description,u=new Date,s=new Date(a.estimated_export_time),c=0;c<n;c++)!function(a){var n=t[a].num,c=t[a].layer,f=t[a].location,d={type:r,description:o,import_time:u,estimated_export_time:s,height:1,width:1,length:1,repository_id:1,location_id:f,layer:c,num:n};l.default.post("/api/materials").send(d).set("Accept","application/json").end(function(n,r){console.log("putaway:",r);var l=r.statusCode,o=JSON.parse(r.text);if(201===r.statusCode){var u=i(o,t[a].num);e(u)}else console.log(l,o),alert("失败 : "+o.error)})}(c)};if(a.repository_id){n([{repository:a.repository_id,location:a.location_id-1,layer:a.layer-1,num:a.num}])}else o(n,a)},t.getGoodNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.others?JSON.stringify(t.others):"[]";a="?others="+a;var n="/api/materials"+a;l.default.head(n).set("Accept","application/json").end(function(t,a){var n=(a.status,a.header.num);e(n)})},t.getGood=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.page&&(t.page=-1);var a=t.page?t.page-1:-1;a="page="+a;var n="&limit="+(t.limit||10),r=t.others?JSON.stringify(t.others):"[]";r="&others="+r;var o="/api/materials?"+a+n+r;l.default.get(o).set("Accept","application/json").end(function(t,a){var n=a.status,r=JSON.parse(a.text);200===n?e(r):alert("失败:"+r.error)})},t.getTask=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0===t.page?-1:t.page-1;a="page="+a;var n="&limit="+(t.limit||10),r=t.others?JSON.stringify(t.others):"[]";r="&others="+r;var o="/api/tasks?"+a+n+r;l.default.get(o).set("Accept","application/json").end(function(t,a){var n=a.status,r=JSON.parse(a.text);200===n?e(r):(console.log(n,r),alert("失败:"+r.error))})},t.getTaskNumber=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.others?JSON.stringify(t.others):"[]";a="?others="+a;var n="/api/tasks"+a;l.default.head(n).set("Accept","application/json").end(function(t,a){var n=a.status;if(200===n){var r=a.header.num;e(r)}else console.log(n,a)})},t.move=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.place||!1,n=t.goods,r=t.destination||"",i=n.length,u=function(t){for(var a=t.length,o=0;o<a;o++){var i=t[o].num,u=t[o].layer,s=t[o].location,c=void 0!==t[o].repository?t[o].repository:1,f={repository:c,location:s,layer:u,destination:r};for(console.log(f);i--;){var d=n.shift(),p="/api/material/"+d._id+"/migrations";l.default.post(p).send(f).set("Accept","application/json").end(function(t,a){console.log("move:",a);var r=a.statusCode,l=a.text;200===a.statusCode?(l=JSON.parse(l),console.log(l),e(n)):(console.log(r,l),alert("失败 : "+l.error||l))})}}};if(a){u([a])}else o(u,{num:i})},t.deleteGood=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.id,n=!0,r=!1,o=void 0;try{for(var i,u=a[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value,c="/api/material/"+s;l.default.delete(c).set("Accept","application/json").end(function(e,t){console.log(a,t);var a=t.status;JSON.parse(t.text)})}}catch(e){r=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}}},82:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(24),f=n(c),d=a(342),p=n(d),m=a(29),h=n(m),y=a(23),b={row:{padding:10,fontSize:16},span:{display:"inline-block",width:100,textAlign:"center"},rowTop:{display:"inline-block",width:100,color:"gray"}},g=function(e){function t(e){r(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={popover:null,isShow:!0},a.renderDeepType=a.renderDeepType.bind(a),a}return o(t,e),i(t,[{key:"renderType",value:function(){var e=[];for(var t in y.types){var a=s.default.createElement(h.default,{label:t,key:t});e.push(a)}return e}},{key:"renderDeepType",value:function(e,t){var a=s.default.createElement(p.default,{open:!0,anchorEl:e.target,anchorOrigin:{horizontal:"left",vertical:"bottom"},targetOrigin:{horizontal:"left",vertical:"top"},onRequestClose:function(){return!1},useLayerForClickAway:!1,className:"popover"},s.default.createElement("div",{style:{fontSize:16,margin:10}},y.types[t].map(function(e,t){return s.default.createElement("span",{style:b.span,key:t},e)})));this.setState({popover:a})}},{key:"selectButton",value:function(){var e=!this.state.isShow;this.setState({isShow:e});var t=document.getElementById("SelectContent");t.style.display=e?"block":"none"}},{key:"render",value:function(){return s.default.createElement(f.default,{zDepth:1,style:{width:"100%",marginBottom:20}},s.default.createElement("div",{style:{minHeight:44}},s.default.createElement("div",{style:{position:"relative",padding:10,fontSize:14}},s.default.createElement("span",{style:{fontSize:20,letterSpacing:5}},"条件筛选"),s.default.createElement(h.default,{label:this.state.isShow?"收起":"更多",style:{position:"absolute",right:20,textAlign:"center"},onTouchTap:this.selectButton.bind(this)})),s.default.createElement("div",{id:"SelectContent"},s.default.createElement("div",{style:b.row},s.default.createElement("span",{style:b.rowTop},"类型:"),this.renderType.call(this),this.state.popover),s.default.createElement("div",{style:b.row},s.default.createElement("span",{style:b.rowTop},"数量:"),s.default.createElement(h.default,{label:"<500"}),s.default.createElement(h.default,{label:"500-1000"}),s.default.createElement(h.default,{label:"1000-3000"}),s.default.createElement(h.default,{label:"3000-5000"}),s.default.createElement(h.default,{label:">5000"})),s.default.createElement("div",{style:b.row},s.default.createElement("span",{style:b.rowTop},"入库时间:"),s.default.createElement(h.default,{label:"<1月"}),s.default.createElement(h.default,{label:"1-3月"}),s.default.createElement(h.default,{label:"3-6月"}),s.default.createElement(h.default,{label:"6-12月"}),s.default.createElement(h.default,{label:">1年"})))))}}]),t}(s.default.Component);t.default=g},96:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(2),s=n(u),c=a(36),f=n(c),d={margin:"0 5"},p=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),i(t,[{key:"changePage",value:function(e){var t=this.props.numberOfPage;e>0&&e<=t&&this.props.changePage(e)}},{key:"renderButton",value:function(){var e=this,t=this.props.numberOfPage,a=this.props.page-7;a=a>0?a:1;var n=a+7;n=n>t?t:n;for(var r=[],l=a;l<n+1;l++)!function(t){var a=s.default.createElement(f.default,{label:t,key:t,style:d,primary:e.props.page===t,onTouchTap:function(){return e.changePage(t)}});r.push(a)}(l);return r}},{key:"render",value:function(){var e=this,t=this.props.page;return s.default.createElement("div",{style:{margin:"10 auto",display:"inline-block"}},s.default.createElement(f.default,{label:"上一页",style:d,onTouchTap:function(){return e.changePage(t-1)}}),this.renderButton.call(this),s.default.createElement(f.default,{label:"下一页",style:d,onTouchTap:function(){return e.changePage(t+1)}}))}}]),t}(s.default.Component);t.default=p}},[1075]);