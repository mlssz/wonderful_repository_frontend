webpackJsonp([1],{108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sortById=function(e,t){return e.material.id>t.material.id},t.sortByType=function(e,t){return e.material.type.charCodeAt(0)<t.material.type.charCodeAt(0)},t.sortByNum=function(e,t){return e.number>t.number},t.sortByImportTime=function(e,t){return+new Date(e.material.import_time)>+new Date(t.material.import_time)},t.sortByFromPlace=function(e,t){var n=e.material,a=t.material;if(n.from_repository>a.from_repository)return!0;if(n.from_repository=a.from_repository){if(n.from_location>a.from_location)return!0;if((n.from_location=a.from_location)&&n.from_layer>a.from_layer)return!0}return!1},t.sortByToPlace=function(e,t){var n=e.material,a=t.material;if(n.to_repository>a.to_repository)return!0;if(n.to_repository=a.to_repository){if(n.to_location>a.to_location)return!0;if((n.to_location=a.to_location)&&n.to_layer>a.to_layer)return!0}return!1}},239:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(15),f=a(c),d=(n(229),n(598)),p=a(d),m=n(97),y=a(m),h=n(396),b=a(h),g=n(26),v=a(g),_=n(241),E=a(_),w=n(240),T=a(w),k=n(249),C=a(k),O=n(25);(0,p.default)();var S=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={title:"title",meanVisible:!1},n.contralMean=n.contralMean.bind(n),n}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({title:O.titleMap[window.location.hash]}),window.onhashchange=function(){e.setState({title:O.titleMap[window.location.hash]||"title"})}}},{key:"contralMean",value:function(e){this.setState({meanVisible:e})}},{key:"render",value:function(){var e=this,t={width:"80%",minWidth:840,margin:"20 auto"},n=localStorage.getItem("loginState")||sessionStorage.getItem("loginState");return s.default.createElement(y.default,null,n?s.default.createElement("div",null,s.default.createElement(b.default,{title:this.state.title,onLeftIconButtonTouchTap:function(){return e.contralMean(!0)}}),s.default.createElement(v.default,{style:t,zDepth:1},s.default.createElement(T.default,null)),s.default.createElement(E.default,{visible:this.state.meanVisible,closeMean:function(){return e.contralMean(!1)}})):s.default.createElement(C.default,null))}}]),t}(s.default.Component);f.default.render(s.default.createElement(S,null),document.getElementById("content"))},240:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(229),f=n(243),d=a(f),p=n(247),m=a(p),y=n(244),h=a(y),b=n(246),g=a(b),v=n(253),_=a(v),E=n(250),w=a(E),T=n(252),k=a(T),C=n(259),O=a(C),S=n(255),x=a(S),j=n(257),P=a(j),R=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),u(t,[{key:"render",value:function(){return s.default.createElement(c.HashRouter,{hashType:"noslash"},s.default.createElement("div",null,s.default.createElement(c.Route,{exact:!0,path:"/",component:g.default}),s.default.createElement(c.Route,{path:"/putawayManage",component:g.default}),s.default.createElement(c.Route,{path:"/putaway",component:m.default}),s.default.createElement(c.Route,{path:"/putawayEnsure",component:h.default}),s.default.createElement(c.Route,{path:"/check",component:d.default}),s.default.createElement(c.Route,{path:"/move",component:_.default}),s.default.createElement(c.Route,{path:"/moveEnsure",component:w.default}),s.default.createElement(c.Route,{path:"/moveManage",component:k.default}),s.default.createElement(c.Route,{path:"/out",component:O.default}),s.default.createElement(c.Route,{path:"/outEnsure",component:x.default}),s.default.createElement(c.Route,{path:"/outManage",component:P.default})))}}]),t}(s.default.Component);t.default=R},241:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(416),f=a(c),d=n(425),p=n(25),m=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return o(t,e),u(t,[{key:"handleClick",value:function(e){(0,p.changeHash)(e),this.props.closeMean()}},{key:"render",value:function(){var e=this;return s.default.createElement(f.default,{docked:!1,open:this.props.visible,onRequestChange:function(){return e.props.closeMean()}},s.default.createElement(d.List,null,s.default.createElement(d.ListItem,{primaryText:"入库管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"入库管理",onClick:function(){return e.handleClick("putawayManage")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"入库",onClick:function(){return e.handleClick("putaway")}})]}),s.default.createElement(d.ListItem,{primaryText:"移动管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"移动管理",onClick:function(){return e.handleClick("moveManage")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"移动",onClick:function(){return e.handleClick("move")}})]}),s.default.createElement(d.ListItem,{primaryText:"出库管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"出库管理",onClick:function(){return e.handleClick("outManage")}}),s.default.createElement(d.ListItem,{key:2,primaryText:"出库",onClick:function(){return e.handleClick("out")}})]}),s.default.createElement(d.ListItem,{primaryText:"盘点管理",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"盘点",onClick:function(){return e.handleClick("check")}})]}),s.default.createElement(d.ListItem,{primaryText:"统计",initiallyOpen:!1,primaryTogglesNestedList:!0,nestedItems:[s.default.createElement(d.ListItem,{key:1,primaryText:"统计"})]})))}}]),t}(s.default.Component);t.default=m},242:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=void 0!==e.others&&e.others instanceof Object?e.others:{},n=[],a=d.default;switch(t.onTouchTap=e.onTouchTap,e.type){case 1:t.primary=!0;break;case 2:t.secondary=!0}switch(e.btype){case 1:a=m.default;break;case 2:a=h.default}return e.disabled&&(t.disabled=!0),"string"==typeof e.label?t.label=e.label:n.push(e.label),c.default.createElement.apply(c.default,[a,t].concat(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.CenterButtons=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.suitButton=u;var s=n(1),c=a(s),f=n(32),d=a(f),p=n(37),m=a(p),y=n(194),h=a(y),b=t.CenterButtons=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mainStyle={display:"inline",margin:"0 auto"},n}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.buttons.map(u),t=Object.assign({},this.mainStyle,this.props.style);return c.default.createElement("div",{style:t},e)}}]),t}(s.Component);b.propTypes={style:c.default.PropTypes.object,buttons:c.default.PropTypes.arrayOf(c.default.PropTypes.object).isRequired},b.defaultProps={style:{}};var g=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mainStyle={display:"flex",justifyContent:"space-between",alignItems:"center"},n}return o(t,e),i(t,[{key:"render",value:function(){for(var e in this.props.style)this.mainStyle[e]=this.props.style[e];var t=this.props.buttons.map(u);return c.default.createElement("div",{style:this.mainStyle},t)}}]),t}(s.Component);t.default=g,g.propTypes={style:c.default.PropTypes.object,buttons:c.default.PropTypes.arrayOf(c.default.PropTypes.object).isRequired},g.defaultProps={style:{}}},243:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(15),f=(a(c),n(26)),d=a(f),p=n(193),m=a(p),y=n(402),h=a(y),b=n(399),g=a(b),v=n(452),_=n(96),E=a(_),w=n(37),T=a(w),k=n(38),C=a(k),O=n(464),S=a(O),x=n(98),j=n(261),P=n(262),R=a(P),I=n(242),M=a(I),B=n(260),L=n(263),N={id:1,available_space:40,stored_count:23,locations:new Array(44).fill(0).map(function(e,t){return{id:t+1,place:t%4+1,label:(44-t).toString(),available_space:34,materials:[1,2,3]}})},D=[{fixed:!1,error_code:1,repository:1,location:28,layer:0,material:32143214,image:"/errors/a.png"},{fixed:!1,error_code:1,repository:1,location:28,layer:0,material:32143214,image:"/errors/a.png"},{fixed:!1,error_code:1,repository:1,location:23,layer:0,material:32143214,image:"/errors/a.png"},{fixed:!1,error_code:1,repository:1,location:39,layer:0,material:32143214,image:"/errors/a.png"}],H=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={state:1},n.tabStyle={textAlign:"center",padding:24},n.state={tab:"0"},n.changeTab=n.changeTab.bind(n),n.handleChange=n.handleChange.bind(n),n}return o(t,e),u(t,[{key:"changeTab",value:function(e){this.setState({tab:e})}},{key:"handleChange",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){var e=this,t=[{label:"总览",component:F},{label:"位置信息",component:A},{label:"自动盘点",component:Z}];return s.default.createElement(v.Tabs,{value:this.state.tab,onChange:this.handleChange},t.map(function(t,n){return s.default.createElement(v.Tab,{label:t.label,value:n.toString(),key:n},s.default.createElement(t.component,{style:e.tabStyle,changeTab:e.changeTab}))}))}}]),t}(i.Component);t.default=H,H.propTypes={style:s.default.PropTypes.object},H.defaultProps={style:{}};var F=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.paperStyle={height:60,width:792,margin:"0 auto",padding:"0 24px",lineHeight:"60px"},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this,t=D.map(function(e){return{fixed:e.fixed?"已修复":"未修复",error_code:(0,L.humanise_error_code)(e.error_code),position:(0,L.humanise_material_position)(e.repository,e.location,e.layer),material:32143214}}),n=[["错误类型","error_code"],["位置","position"],["相关物资","material"],["状态","fixed"]],a=[{label:"设置自动盘点",onTouchTap:function(){return e.props.changeTab("2")},type:2},{label:"盘点",type:1}],r=s.default.createElement("p",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center"}},s.default.createElement("span",null,"物资数量: ",s.default.createElement("span",{style:{color:x.blue300}},N.stored_count)),s.default.createElement("span",null,"空间总数: ",s.default.createElement("span",{style:{color:x.blue300}},2640)),s.default.createElement("span",null,"剩余空间: ",s.default.createElement("span",{style:{color:x.blue300}},N.available_space)),s.default.createElement("span",null,"错误数量: ",s.default.createElement("span",{style:{color:x.red300}},D.length)));return s.default.createElement("div",{style:this.props.style},s.default.createElement(d.default,{style:this.paperStyle,zDepth:1,children:r}),s.default.createElement("div",{style:{margin:"50px 0"}},(0,B.general_table)(n,t)),s.default.createElement(M.default,{buttons:a}))}}]),t}(i.Component);F.propTypes={style:s.default.PropTypes.object},F.defaultProps={style:{}};var A=function(e){function t(e){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),u(t,[{key:"render",value:function(){var e={margin:"20px auto",textAlign:"left",width:900},t={width:300,margin:"2px 0",display:"inline-block"},n=function(e){var n=D.filter(function(t){return t.location===e.id}).length,a=n>0?x.red300:x.blue300,r=n>0?x.pink900:x.indigo900,l="物资数量："+e.materials.reduce(function(e,t){return e+t});return l=n>0?l+", 错误数量："+n:l,s.default.createElement("div",{style:t,key:e.id},s.default.createElement(h.default,{backgroundColor:a},s.default.createElement(g.default,{size:32,color:a,backgroundColor:r},e.label),l))},a=N.locations.filter(function(e){return 1===e.place||4===e.place}).map(n),r=N.locations.filter(function(e){return 2===e.place}).map(n),l=N.locations.filter(function(e){return 3===e.place}).map(n);return s.default.createElement("div",{style:this.props.style},s.default.createElement("img",{src:"/static/img/locations.png",style:{width:426,margin:"20px auto"}}),s.default.createElement("div",{style:e},s.default.createElement("h1",null,"A区"),a),s.default.createElement(m.default,null),s.default.createElement("div",{style:e},s.default.createElement("h1",null,"B区"),r),s.default.createElement(m.default,null),s.default.createElement("div",{style:e},s.default.createElement("h1",null,"C区"),l))}}]),t}(i.Component);A.propTypes={style:s.default.PropTypes.object},A.defaultProps={style:{}};var Z=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={current:{type:0,time:Date.now()+12e4,other:0},update:{type:0,time:Date.now()+12e4,other:0}},n.paperStyle={height:60,width:792,margin:"0 auto",padding:"0 24px",lineHeight:"60px"},n._info_cancel=null,n._info_change=null,n.handleTypeChange=n.handleTypeChange.bind(n),n.handleOtherChange=n.handleOtherChange.bind(n),n.handleTimePickerChange=n.handleTimePickerChange.bind(n),n.cancelAutoCheck=n.cancelAutoCheck.bind(n),n.changeAutoCheck=n.changeAutoCheck.bind(n),n.handleOtherChangeType3=n.handleOtherChangeType3.bind(n),n}return o(t,e),u(t,[{key:"handleTypeChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,{type:t})})}},{key:"handleOtherChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,{other:t})})}},{key:"handleOtherChangeType3",value:function(e){var t=60*Math.floor(this.state.update.other/60)+e;this.setState({update:Object.assign({},this.state.update,{other:t})}),console.log(t)}},{key:"handleTimePickerChange",value:function(e,t){this.setState({update:Object.assign({},this.state.update,{time:t})})}},{key:"cancelAutoCheck",value:function(){this.setState({current:Object.assign({},this.state.current,{type:-1}),update:Object.assign({},this.state.update,{type:-1})}),this._info_cancel.Close()}},{key:"changeAutoCheck",value:function(){this.setState({current:this.state.update}),this._info_change.Close()}},{key:"render",value:function(){var e=this,t=[{label:"取消自动盘点",type:0,onTouchTap:function(){return e._info_cancel.Open("取消自动盘点","确认取消自动盘点功能？")}},{label:"确认修改",type:1,onTouchTap:function(){return e._info_change.Open("修改自动盘点方式","确认将自动盘点方式修改为 "+(0,L.humanise_schedule)(e.state.update))}}],n=["每天","每周","每月","每隔"],a=["周一","周二","周三","周四","周五","周六","周日"],r=new Array(30).fill(1).map(function(e,t){return t+1+"号"}),l=s.default.createElement("p",{style:{margin:0,display:"flex",justifyContent:"space-between",alignItems:"center"}},s.default.createElement("span",null,"盘点方式: ",s.default.createElement("span",{style:{color:x.blue300}},(0,L.humanise_schedule)(this.state.current))),s.default.createElement("span",null,"下次盘点时间: ",s.default.createElement("span",{style:{color:x.red300}},(0,L.humanise_date)(Date.now()+12e4))));return s.default.createElement("div",{style:this.props.style},s.default.createElement(R.default,{ref:function(t){return e._info_cancel=t},anotherButton:s.default.createElement(T.default,{label:"OK",secondary:!0,keyboardFocused:!1,onTouchTap:this.cancelAutoCheck})}),s.default.createElement(R.default,{ref:function(t){return e._info_change=t},anotherButton:s.default.createElement(T.default,{label:"OK",secondary:!0,keyboardFocused:!1,onTouchTap:this.changeAutoCheck})}),s.default.createElement(d.default,{style:this.paperStyle,zDepth:1,children:l}),s.default.createElement("div",{style:{margin:"30px 0",display:"flex",height:204,justifyContent:"center",alignItems:"center"}},s.default.createElement(E.default,{floatingLabelText:"自动方式",style:{margin:"0 16px"},value:this.state.update.type,onChange:this.handleTypeChange},n.map(function(e,t){return s.default.createElement(C.default,{value:t,primaryText:e})})),1!==this.state.update.type?void 0:s.default.createElement(E.default,{floatingLabelText:"星期",style:{margin:"0 16px"},value:this.state.update.other,onChange:this.handleOtherChange},a.map(function(e,t){return s.default.createElement(C.default,{value:t,primaryText:e})})),2!==this.state.update.type?void 0:s.default.createElement(E.default,{floatingLabelText:"月",style:{margin:"0 16px"},value:this.state.update.other,onChange:this.handleOtherChange},r.map(function(e,t){return s.default.createElement(C.default,{value:t,primaryText:e})})),3!==this.state.update.type?void 0:s.default.createElement("div",{style:{margin:"0 24px"}},s.default.createElement(j.RegCtlTextField,{reg:/^\d+$/,style:{width:130,margin:"20px 0"},hintText:"1",floatingLabelText:"小时",callback:function(t){return e.handleOtherChangeType3(3600*Number.parseInt(t))},errString:"请填写大于0的整数"}),s.default.createElement("br",null),"+",s.default.createElement("br",null),s.default.createElement(j.RegCtlTextField,{reg:/^\d+$/,style:{width:130,margin:0},hintText:"0",floatingLabelText:"分钟",callback:function(t){return e.handleOtherChangeType3(60*Number.parseInt(t))},errString:"请填写大于0的整数"})),3!==this.state.update.type?void 0:s.default.createElement("span",{style:{padding:"26px 0 0 0"}},"从"),-1===this.state.update.type?void 0:s.default.createElement(S.default,{style:{padding:"24px 0 0 16px"},textFieldStyle:{width:100},format:"24hr",hintText:"时间",value:new Date(this.state.update.time),onChange:this.handleTimePickerChange}),3!==this.state.update.type?void 0:s.default.createElement("span",{style:{padding:"26px 0 0 0"}},"开始")),s.default.createElement(M.default,{buttons:t}))}}]),t}(i.Component);Z.propTypes={style:s.default.PropTypes.object},Z.defaultProps={style:{}}},244:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(64),f=n(245),d=a(f),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stepIndex:1},n}return o(t,e),u(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"填写入库单")),s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"完成入库"))),s.default.createElement(d.default,null))}}]),t}(s.default.Component);t.default=p},245:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(55),f=n(135),d=a(f),p=n(32),m=a(p),y=n(25),h=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={task:{},open:!1,mes:""},n.renderRow=n.renderRow.bind(n),n.closeBar=n.closeBar.bind(n),n.putaway=n.putaway.bind(n),n}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("intask"));void 0===e.repository_id&&(e.repository_id=(0,y.randomNum)(1,3),e.location_id=(0,y.randomNum)(1,10),e.layer=(0,y.randomNum)(1,3)),console.log(e),e.id=(0,y.makeId)();var t=(0,y.parsePlace)(e);e.to=t,e.type=e.type.join("-"),this.setState({task:e})}},{key:"renderRow",value:function(){var e=this.state.task,t=[];for(var n in e)if(y.formName[n]){var a=!("estimated_export_time"===n),r=s.default.createElement(c.TableRow,{key:n},s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},y.formName[n]),s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},a?e[n]:(0,y.parsetime)(e[n],0)));t.push(r)}return t}},{key:"cancel",value:function(){(0,y.changeHash)("putaway")}},{key:"putaway",value:function(){sessionStorage.removeItem("intask"),this.setState({mes:"入库成功，3秒后返回入库页面",open:!0}),setTimeout(function(){return(0,y.changeHash)("putaway")},3e3)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({open:!1}),1===e&&(0,y.changeHash)("putaway")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Table,{selectable:!1,style:{width:"80%",margin:"0 auto"}},s.default.createElement(c.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},this.renderRow())),s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},s.default.createElement(m.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),s.default.createElement(m.default,{label:"确认",primary:!0,onTouchTap:this.putaway})),s.default.createElement(d.default,{open:this.state.open,message:this.state.mes,autoHideDuration:3e3,onRequestClose:this.closeBar,action:"立即跳转",onActionTouchTap:function(){return e.closeBar(1)}}))}}]),t}(s.default.Component);t.default=h},246:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(137),d=n(55),p=n(38),m=a(p),y=n(132),h=a(y),b=n(54),g=a(b),v=n(79),_=a(v),E=n(99),w=a(E),T=n(94),k=a(T),C=n(32),O=a(C),S=n(37),x=(a(S),n(25)),j=n(108),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(j),R=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={task:{},sort:1},n.handleChange=n.handleChange.bind(n),n.meunClick=n.meunClick.bind(n),n}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=x.testTask;for(var t in e)e[t].number=Math.floor(9998*Math.random()+1);this.setState({task:e})}},{key:"handleChange",value:function(e,t,n){var a=this.state.task;switch(n){case 1:a=a.sort(P.sortById);break;case 2:a=a.sort(P.sortByType);break;case 3:a=a.sort(P.sortByNum);break;case 4:a=a.sort(P.sortByImportTime);break;case 5:a=a.sort(P.sortByFromPlace);break;case 6:a=a.sort(P.sortByToPlace)}this.setState({sort:n,task:a})}},{key:"renderRow",value:function(){return this.state.task.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=e.material,n=(0,x.parsetime)(t.location_update_time),a=(0,x.parseTaskPlace)(t),r=u(a,2),l=r[0],o=r[1];return c.default.createElement(d.TableRow,{key:t.id},c.default.createElement(d.TableRowColumn,null,t.id),c.default.createElement(d.TableRowColumn,null,t.type),c.default.createElement(d.TableRowColumn,null,e.number),c.default.createElement(d.TableRowColumn,{style:{overflow:"visible"}},n),c.default.createElement(d.TableRowColumn,null,l),c.default.createElement(d.TableRowColumn,null,o),c.default.createElement(d.TableRowColumn,null,c.default.createElement(O.default,{label:"详情"})))}},{key:"addPutaway",value:function(){(0,x.changeHash)("putaway")}},{key:"meunClick",value:function(e,t){if("printTable"===t.key){var n=new Table2Excel,a="入库单"+(0,x.parsetime)(new Date,2);n.export(document.getElementsByClassName("tablePrint")[1],a)}if("printBar"===t.key){var r=this.state.task;for(var l in r)(0,x.downloadBarCode)(r[l].material.id)}}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.Toolbar,null,c.default.createElement(f.ToolbarGroup,{firstChild:!0},c.default.createElement(k.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},c.default.createElement(m.default,{value:1,primaryText:"默认排序"}),c.default.createElement(m.default,{value:2,primaryText:"物资类型"}),c.default.createElement(m.default,{value:3,primaryText:"物资数量"}),c.default.createElement(m.default,{value:4,primaryText:"入库时间"}),c.default.createElement(m.default,{value:5,primaryText:"原始位置"}),c.default.createElement(m.default,{value:6,primaryText:"入库地址"}))),c.default.createElement(f.ToolbarGroup,null,c.default.createElement(f.ToolbarTitle,{text:"Options"}),c.default.createElement(_.default,{className:"muidocs-icon-custom-sort"}),c.default.createElement(f.ToolbarSeparator,null),c.default.createElement(O.default,{label:"新建入库单",primary:!0,onTouchTap:this.addPutaway}),c.default.createElement(h.default,{iconButtonElement:c.default.createElement(g.default,{touch:!0},c.default.createElement(w.default,null)),onItemTouchTap:this.meunClick},c.default.createElement(m.default,{primaryText:"打印入库单",key:"printTable"}),c.default.createElement(m.default,{primaryText:"打印条形码",key:"printBar"})))),c.default.createElement(d.Table,{selectable:!1,className:"tablePrint"},c.default.createElement(d.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},c.default.createElement(d.TableRow,null,c.default.createElement(d.TableRowColumn,null,"物资编号"),c.default.createElement(d.TableRowColumn,null,"物资类型"),c.default.createElement(d.TableRowColumn,null,"物资数量"),c.default.createElement(d.TableRowColumn,null,"入库时间"),c.default.createElement(d.TableRowColumn,null,"原始位置"),c.default.createElement(d.TableRowColumn,null,"入库地址"),c.default.createElement(d.TableRowColumn,null,"详情")),this.renderRow.call(this))))}}]),t}(c.default.Component);t.default=R},247:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(248),f=a(c),d=n(64),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stepIndex:0},n}return o(t,e),u(t,[{key:"setStep",value:function(e){this.setState({stepIndex:e})}},{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(d.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(d.Step,null,s.default.createElement(d.StepLabel,null,"填写入库单")),s.default.createElement(d.Step,null,s.default.createElement(d.StepLabel,null,"完成入库"))),s.default.createElement(f.default,null))}}]),t}(s.default.Component);t.default=p},248:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(96),d=a(f),p=n(97),m=a(p),y=n(38),h=a(y),b=n(39),g=a(b),v=n(130),_=a(v),E=n(32),w=a(E),T=n(25),k=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={secondType:[],task:{},error:{},locationVisible:!1},n.handleChange=n.handleChange.bind(n),n.cancel=n.cancel.bind(n),n.putaway=n.putaway.bind(n),n.setType=n.setType.bind(n),n}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("intask"));e||(e={type:[],num:"",description:"",estimated_export_time:null}),this.setState({task:e})}},{key:"handleChange",value:function(e,t){var n=this.state.task,a=this.state.error;n[t]=e,a[t]="",this.setState({task:n})}},{key:"setType",value:function(e){var t=this.state.task,n=this.state.error;t.type[0]=e,n.type="",this.setState({task:t})}},{key:"setSecondType",value:function(e){var t=this.state.task,n=this.state.error;t.type[1]=e,n.type="",this.setState({task:t})}},{key:"renderMenuItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];if(1===t)return e.map(function(e,t){return c.default.createElement(h.default,{value:e,key:t,primaryText:e})});if(2===t){for(var a in e){var r=c.default.createElement(h.default,{value:a,key:a,primaryText:a});n.push(r)}return n}}},{key:"cancel",value:function(){sessionStorage.removeItem("intask");var e=this.state.task;for(var t in e)e[t]=null,"num"!==t&&"description"!==t||(e[t]=""),"type"===t&&(e[t]={});this.setState({task:e})}},{key:"putaway",value:function(){var e=this.state.task,t=(0,T.objIsEmpty)(e),n=u(t,2),a=n[0],r=n[1];if(a){var l={};return r.map(function(e){return l[e]="请填写完整!"}),this.setState({error:l}),!1}sessionStorage.setItem("task",JSON.stringify(e)),(0,T.changeHash)("putawayEnsure")}},{key:"render",value:function(){var e=this;return c.default.createElement(m.default,null,c.default.createElement("div",{style:T.styles.container},c.default.createElement(d.default,{floatingLabelText:"类型",floatingLabelStyle:{color:"gray"},value:this.state.task.type[0],errorText:this.state.error.type,style:T.styles.formItem,onChange:function(t,n,a){return e.setType(a)}},this.renderMenuItem(T.types,2)),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"详细",floatingLabelStyle:{color:"gray"},value:this.state.task.type[1],errorText:this.state.error.type,style:T.styles.formItem,onChange:function(t,n,a){return e.setSecondType(a)}},this.renderMenuItem(T.types[this.state.task.type[0]]||[])),c.default.createElement("br",null),c.default.createElement(g.default,{floatingLabelText:"数量",floatingLabelStyle:{color:"gray"},value:this.state.task.num,errorText:this.state.error.num,style:T.styles.formItem,onChange:function(t,n){return e.handleChange(n,"num")}}),c.default.createElement("br",null),c.default.createElement("div",null,c.default.createElement(d.default,{floatingLabelText:"仓",floatingLabelStyle:{color:"gray"},value:this.state.task.repository_id,errorText:this.state.error.repository_id,style:{width:100},onChange:function(t,n,a){return e.handleChange(a,"repository_id")}},this.renderMenuItem([1,2,3])),c.default.createElement(d.default,{floatingLabelText:"架",floatingLabelStyle:{color:"gray"},value:this.state.task.location_id,errorText:this.state.error.location_id,style:{width:100},onChange:function(t,n,a){return e.handleChange(a,"location_id")}},this.renderMenuItem([1,2,3,4,5,6,7,8,9,10])),c.default.createElement(d.default,{floatingLabelText:"层",floatingLabelStyle:{color:"gray"},value:this.state.task.layer,errorText:this.state.error.layer,style:{width:100},onChange:function(t,n,a){return e.handleChange(a,"layer")}},this.renderMenuItem([1,2,3])),c.default.createElement("p",{style:{width:300,color:"gray",margin:0,fontSize:12}},"入库地址(空则为系统分配)")),c.default.createElement("br",null),c.default.createElement(_.default,{floatingLabelText:"估计出库时间",floatingLabelStyle:{color:"gray"},value:null===this.state.task.estimated_export_time?this.state.task.estimated_export_time:new Date(this.state.task.estimated_export_time),errorText:this.state.error.estimated_export_time,style:T.styles.formItem,onChange:function(t,n){return e.handleChange(+n,"estimated_export_time")}}),c.default.createElement("br",null),c.default.createElement(g.default,{floatingLabelText:"物资描述",floatingLabelStyle:{color:"gray"},value:this.state.task.description,errorText:this.state.error.description,multiLine:!0,style:T.styles.formItem,onChange:function(t,n){return e.handleChange(n,"description")}}),c.default.createElement("br",null),c.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},c.default.createElement(w.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),c.default.createElement(w.default,{label:"确认",primary:!0,onTouchTap:this.putaway}))))}}]),t}(c.default.Component);t.default=k},249:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(26),f=a(c),d=n(39),p=a(d),m=n(129),y=a(m),h=n(194),b=a(h),g=n(206),v=a(g),_=n(492),E=a(_),w=n(484),T=a(w),k=n(25),C=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userName:"",psw:"",isRemember:!1},n.login=n.login.bind(n),n}return o(t,e),u(t,[{key:"login",value:function(){var e={userName:this.state.userName,psw:this.state.psw};this.state.isRemember?localStorage.setItem("loginState",JSON.stringify(e)):sessionStorage.setItem("loginState",JSON.stringify(e)),(0,k.changeHash)("/")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement("div",{style:{width:"100%",height:"50%",backgroundColor:"#00AFCC",position:"absolute",zIndex:"-999"}}),s.default.createElement("div",{style:{width:"100%",height:"50%",backgroundColor:"#E8E7E7",position:"absolute",top:"50%",zIndex:"-999"}}),s.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},s.default.createElement(f.default,{style:{width:"40%",height:230,textAlign:"center",position:"relative"},zDepth:2},s.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.default.createElement(E.default,{style:{alignSelf:"flex-end",margin:"0 10 13 0"}}),s.default.createElement(p.default,{floatingLabelText:"用户名",floatingLabelStyle:{color:"gray"},value:this.state.userName,inputStyle:{margin:0},onChange:function(t,n){return e.setState({userName:n})}})),s.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.default.createElement(T.default,{style:{alignSelf:"flex-end",margin:"0 10 13 0"}}),s.default.createElement(p.default,{floatingLabelText:"密码",floatingLabelStyle:{color:"gray"},value:this.state.psw,type:"password",inputStyle:{margin:0},onChange:function(t,n){return e.setState({psw:n})}})),s.default.createElement("div",{style:{maxWidth:250,margin:"30 auto"}},s.default.createElement(y.default,{label:"记住用户",checked:this.state.isRemember,onCheck:function(t,n){return e.setState({isRemember:n})},style:{marginBottom:16}})),s.default.createElement(b.default,{style:{position:"absolute",top:"50%",left:"100%",marginTop:-28,marginLeft:-28},secondary:!0,onTouchTap:this.login},s.default.createElement(v.default,null)))))}}]),t}(s.default.Component);t.default=C},25:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.testOut=t.testMove=t.testTask=t.downloadBarCode=t.copyObj=t.makeId=t.randomNum=t.objIsEmpty=t.parseTaskPlace=t.parsePlace=t.parsetime=t.parseParams=t.changeHash=t.formName=t.titleMap=t.styles=t.types=void 0;var r,l,o=n(360),u=function(e){return e&&e.__esModule?e:{default:e}}(o),i=(t.types={"生活电器":["生活电器"],"电脑办公":["电脑办公"],"衣物服饰":["衣物服饰"],"酒水饮料":["酒水饮料"],"食品生鲜":["食品生鲜"]},t.styles={container:{display:"flex",flexDirection:"column",alignItems:"center",padding:20},formItem:{width:300}},t.titleMap=(r={"":"入库","#putaway":"入库管理","#putawayEnsure":"入库管理"},a(r,"#putawayEnsure","入库管理"),a(r,"#move","移动管理"),a(r,"#moveEnsure","移动管理"),a(r,"#moveManage","移动管理"),a(r,"#out","出库管理"),a(r,"#outEnsure","出库管理"),a(r,"#outManage","出库管理"),r),t.formName=(l={id:"物资编号",type:"物资类型",description:"物资描述",import_time:"入库时间",estimated_export_time:"估计出库时间",num:"物资数量"},a(l,"id","物资编号"),a(l,"to","目的位置"),a(l,"from","原始位置"),l),t.changeHash=function(e){window.location.hash=e},t.parseParams=function(){return console.log(window.location.hash.slice(1)),window.location.hash.slice(1)},t.parsetime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===e)return"";var n=new Date(e);return 1===t?n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds():2===t?n.getFullYear().toString().slice(2)+(n.getMonth()+1)+n.getDate()+n.getHours()+n.getMinutes()+n.getSeconds():n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()},t.parsePlace=function(e){return-1===e.repository_id||0===e.repository?"----":e.repository_id+" 仓 "+e.location_id+" 架 "+e.layer+" 层 "},t.parseTaskPlace=function(e){var t=e.from_repository+" 仓 "+(e.from_location+1)+" 架 "+(e.from_layer+1)+" 层 ",n=e.to_repository+" 仓 "+(e.to_location+1)+" 架 "+(e.to_layer+1)+" 层 ";return 0!==e.to_repository&&-1!==e.to_repository||(n="----"),0!==e.from_repository&&-1!==e.from_repository||(t="----"),[t,n]},t.objIsEmpty=function(e){console.log(e);var t=[];for(var n in e)0!==e[n]&&"0"!==e[n]&&("type"===n&&(e[n][0]||t.push("type"),e[n][1]||t.push("detail")),e[n]||t.push(n));return[!!t.length,t]},t.randomNum=function(e,t){return Math.floor(Math.random()*(t-e)+e)});t.makeId=function(){var e=new Date,t=e.getFullYear().toString().slice(2,4),n=(e.getMonth()+1).toString();1===n.length&&(n="0"+n);var a=e.getDay().toString();1===a.length&&(a="0"+a);var r=e.getSeconds().toString();return 1===r.length&&(r="0"+r),t+n+a+i(1e3,9999)+r},t.copyObj=function(e){var t={};for(var n in e)t[n]=boj[n];return t},t.downloadBarCode=function(e){function t(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],a=window.atob(t[1]),r=a.length,l=new Uint8Array(r),o=0;o<r;++o)l[o]=a.charCodeAt(o);return new Blob([l],{type:n})}var n=document.createElement("canvas");(0,u.default)(n,e),function(e,n){var a=document.createElement("a"),r=t(n),l=document.createEvent("HTMLEvents");l.initEvent("click",!1,!1),a.download=e,a.href=URL.createObjectURL(r),a.dispatchEvent(l),a.click()}(e+".png",n.toDataURL("image/png"))},t.testTask=[{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451593158,type:"生活电器-生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:-1,from_location:0,from_layer:0,to_repository:5,to_location:7,to_layer:2,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}},{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451593200,type:"酒水饮料-酒水饮料",description:"wonderful repository",import_time:"2017-04-05T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:-1,from_location:1,from_layer:0,to_repository:1,to_location:1,to_layer:0,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}}],t.testMove=[{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451599188,type:"生活电器-生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:2,from_location:7,from_layer:0,to_repository:1,to_location:1,to_layer:4,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}},{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491410563200,type:"酒水饮料-酒水饮料",description:"wonderful repository",import_time:"2017-04-05T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:1,from_location:1,from_layer:3,to_repository:2,to_location:1,to_layer:0,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}}],t.testOut=[{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491451599188,type:"生活电器-生活电器",description:"wonderful repository",import_time:"2017-04-06T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:4,from_location:8,from_layer:1,to_repository:0,to_location:1,to_layer:4,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}},{_id:"dsafdsadsaf32413141kl2",action:500,status:1,publish_time:"2017-04-06T04:57:36.801Z",start_time:"2017-04-06T04:57:36.801Z",end_time:"2017-04-06T04:57:36.801Z",remark:"",staff:{_id:"dsafdsadsaf32413141kl2",name:"因幡帝",account:"inaba_tewi",passwd:"123456",sex:0,age:222,permission:1,signup_time:1491451593158,last_login_time:1491451593158},material:{_id:"dsafdsadsaf32413141kl2",id:1491410563200,type:"酒水饮料-酒水饮料",description:"wonderful repository",import_time:"2017-04-05T04:57:36.801Z",estimated_export_time:"2017-04-06T04:57:36.801Z",height:1,width:1,length:2,status:300,from_repository:1,from_location:8,from_layer:4,to_repository:0,to_location:1,to_layer:0,last_migrations:"1234",location_update_time:"2017-04-06T04:57:36.801Z"}}]},250:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(64),f=n(251),d=a(f),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stepIndex:1},n}return o(t,e),u(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"填写移动单")),s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"完成移动"))),s.default.createElement(d.default,null))}}]),t}(s.default.Component);t.default=p},251:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(55),f=n(135),d=a(f),p=n(32),m=a(p),y=n(25),h=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={task:{},open:!1,mes:""},n.renderRow=n.renderRow.bind(n),n.closeBar=n.closeBar.bind(n),n.putaway=n.putaway.bind(n),n}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("movetask"));void 0===e.repository_id&&(e.repository_id=(0,y.randomNum)(1,3),e.location_id=(0,y.randomNum)(1,10),e.layer=(0,y.randomNum)(1,3)),void 0===e.from&&(e.from=(0,y.randomNum)(1,3)+" 仓 "+(0,y.randomNum)(1,10)+" 架 "+(0,y.randomNum)(1,3)+" 层 "),e.id=(0,y.makeId)();var t=(0,y.parsePlace)(e);e.to=t,e.type=e.type.join("-"),this.setState({task:e})}},{key:"renderRow",value:function(){var e=this.state.task,t=[];for(var n in e)if(y.formName[n]){var a=!("estimated_export_time"===n),r=s.default.createElement(c.TableRow,{key:n},s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},y.formName[n]),s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},a?e[n]:(0,y.parsetime)(e[n],0)));t.push(r)}return t}},{key:"cancel",value:function(){(0,y.changeHash)("move")}},{key:"putaway",value:function(){sessionStorage.removeItem("task"),this.setState({mes:"移动成功，3秒后返回移动页面",open:!0}),setTimeout(function(){return(0,y.changeHash)("move")},3e3)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({open:!1}),1===e&&(0,y.changeHash)("move")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Table,{selectable:!1,style:{width:"80%",margin:"0 auto"}},s.default.createElement(c.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},this.renderRow())),s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},s.default.createElement(m.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),s.default.createElement(m.default,{label:"确认",primary:!0,onTouchTap:this.putaway})),s.default.createElement(d.default,{open:this.state.open,message:this.state.mes,autoHideDuration:3e3,onRequestClose:this.closeBar,action:"立即跳转",onActionTouchTap:function(){return e.closeBar(1)}}))}}]),t}(s.default.Component);t.default=h},252:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(137),d=n(55),p=n(38),m=a(p),y=n(132),h=a(y),b=n(54),g=a(b),v=n(79),_=a(v),E=n(99),w=a(E),T=n(94),k=a(T),C=n(32),O=a(C),S=n(37),x=(a(S),n(25)),j=n(108),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(j),R=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={task:{},sort:1},n.handleChange=n.handleChange.bind(n),n.meunClick=n.meunClick.bind(n),n}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=x.testMove;for(var t in e)e[t].number=Math.floor(9998*Math.random()+1);this.setState({task:e})}},{key:"handleChange",value:function(e,t,n){var a=this.state.task;switch(n){case 1:a=a.sort(P.sortById);break;case 2:a=a.sort(P.sortByType);break;case 3:a=a.sort(P.sortByNum);break;case 4:a=a.sort(P.sortByImportTime);break;case 5:a=a.sort(P.sortByFromPlace);break;case 6:a=a.sort(P.sortByToPlace)}this.setState({sort:n,task:a})}},{key:"renderRow",value:function(){return this.state.task.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=e.material,n=(0,x.parsetime)(t.location_update_time),a=(0,x.parseTaskPlace)(t),r=u(a,2),l=r[0],o=r[1];return c.default.createElement(d.TableRow,{key:t.id},c.default.createElement(d.TableRowColumn,null,t.id),c.default.createElement(d.TableRowColumn,null,t.type),c.default.createElement(d.TableRowColumn,null,e.number),c.default.createElement(d.TableRowColumn,{style:{overflow:"visible"}},n),c.default.createElement(d.TableRowColumn,null,l),c.default.createElement(d.TableRowColumn,null,o),c.default.createElement(d.TableRowColumn,null,c.default.createElement(O.default,{label:"详情"})))}},{key:"addPutaway",value:function(){(0,x.changeHash)("move")}},{key:"meunClick",value:function(e,t){if("printTable"===t.key){var n=new Table2Excel,a="移动单"+(0,x.parsetime)(new Date,2);n.export(document.getElementsByClassName("tablePrint")[1],a)}if("printBar"===t.key){var r=this.state.task;for(var l in r)(0,x.downloadBarCode)(r[l].material.id)}}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.Toolbar,null,c.default.createElement(f.ToolbarGroup,{firstChild:!0},c.default.createElement(k.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},c.default.createElement(m.default,{value:1,primaryText:"默认排序"}),c.default.createElement(m.default,{value:2,primaryText:"物资类型"}),c.default.createElement(m.default,{value:3,primaryText:"物资数量"}),c.default.createElement(m.default,{value:4,primaryText:"下单时间"}),c.default.createElement(m.default,{value:5,primaryText:"原始位置"}),c.default.createElement(m.default,{value:6,primaryText:"目的地址"}))),c.default.createElement(f.ToolbarGroup,null,c.default.createElement(f.ToolbarTitle,{text:"Options"}),c.default.createElement(_.default,{className:"muidocs-icon-custom-sort"}),c.default.createElement(f.ToolbarSeparator,null),c.default.createElement(O.default,{label:"新建移动单",primary:!0,onTouchTap:this.addPutaway}),c.default.createElement(h.default,{iconButtonElement:c.default.createElement(g.default,{touch:!0},c.default.createElement(w.default,null)),onItemTouchTap:this.meunClick},c.default.createElement(m.default,{primaryText:"打印移动单",key:"printTable"}),c.default.createElement(m.default,{primaryText:"打印条形码",key:"printBar"})))),c.default.createElement(d.Table,{selectable:!1,className:"tablePrint"},c.default.createElement(d.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},c.default.createElement(d.TableRow,null,c.default.createElement(d.TableRowColumn,null,"物资编号"),c.default.createElement(d.TableRowColumn,null,"物资类型"),c.default.createElement(d.TableRowColumn,null,"物资数量"),c.default.createElement(d.TableRowColumn,null,"下单时间"),c.default.createElement(d.TableRowColumn,null,"原始位置"),c.default.createElement(d.TableRowColumn,null,"目的地址"),c.default.createElement(d.TableRowColumn,null,"详情")),this.renderRow.call(this))))}}]),t}(c.default.Component);t.default=R},253:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(254),f=a(c),d=n(64),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stepIndex:0},n}return o(t,e),u(t,[{key:"setStep",value:function(e){this.setState({stepIndex:e})}},{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(d.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(d.Step,null,s.default.createElement(d.StepLabel,null,"填写移动单")),s.default.createElement(d.Step,null,s.default.createElement(d.StepLabel,null,"完成移动"))),s.default.createElement(f.default,null))}}]),t}(s.default.Component);t.default=p},254:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(96),d=a(f),p=n(97),m=a(p),y=n(38),h=a(y),b=n(39),g=a(b),v=n(130),_=(a(v),n(32)),E=a(_),w=n(192),T=a(w),k=n(25),C=[],O=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={secondType:[],task:{},error:{},locationVisible:!1,dataSource:["1491451593158","1491451593200"]},n.handleChange=n.handleChange.bind(n),n.cancel=n.cancel.bind(n),n.move=n.move.bind(n),n.setType=n.setType.bind(n),n.setId=n.setId.bind(n),n}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("task"));e||(e={type:[],num:""}),this.setState({task:e})}},{key:"handleChange",value:function(e,t){var n=this.state.task,a=this.state.error;n[t]=e,a[t]="",this.setState({task:n})}},{key:"setType",value:function(e){var t=this.state.task,n=this.state.error;t.type[0]=e,n.type="",this.setState({task:t})}},{key:"setSecondType",value:function(e){var t=this.state.task,n=this.state.error;t.type[1]=e,n.type="",this.setState({task:t}),C=[];for(var a=0;a<10;a++){var r=(0,k.randomNum)(1,3),l=(0,k.randomNum)(1,10),o=(0,k.randomNum)(1,3);C.push(r+" 仓 "+l+" 架 "+o+" 层 ")}}},{key:"setId",value:function(e){var t=this.state.task,n=this.state.error;if(t.id=e,n.id="",13===e.length){t.type[0]="生活电器",t.type[1]="生活电器";for(var a=0;a<10;a++)C.push((0,k.randomNum)(1,3)+" 仓 "+(0,k.randomNum)(1,10)+" 架 "+(0,k.randomNum)(1,3)+" 层 ")}this.setState({task:t})}},{key:"renderMenuItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];if(1===t)return e.map(function(e,t){return c.default.createElement(h.default,{value:e,key:t,primaryText:e})});if(2===t){for(var a in e){var r=c.default.createElement(h.default,{value:a,key:a,primaryText:a});n.push(r)}return n}}},{key:"cancel",value:function(){sessionStorage.removeItem("movetask");var e=this.state.task;for(var t in e)e[t]=null,"num"!==t&&"id"!==t||(e[t]=""),"type"===t&&(e[t]=[]);this.setState({task:e})}},{key:"move",value:function(){var e=this.state.task,t=(0,k.objIsEmpty)(e),n=u(t,2),a=n[0],r=n[1];if(a){var l={};return r.map(function(e){return l[e]="请填写完整!"}),this.setState({error:l}),!1}sessionStorage.setItem("movetask",JSON.stringify(e)),(0,k.changeHash)("moveEnsure")}},{key:"render",value:function(){var e=this;return c.default.createElement(m.default,null,c.default.createElement("div",{style:k.styles.container},c.default.createElement(T.default,{floatingLabelText:"物品编号(可不填)",floatingLabelStyle:{color:"gray"},value:this.state.task.id||"",errorText:this.state.error.id,style:k.styles.formItem,dataSource:this.state.dataSource,onUpdateInput:this.setId}),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"类型",floatingLabelStyle:{color:"gray"},value:this.state.task.type[0],errorText:this.state.error.type,style:k.styles.formItem,onChange:function(t,n,a){return e.setType(a)}},this.renderMenuItem(k.types,2)),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"详细",floatingLabelStyle:{color:"gray"},value:this.state.task.type[1],errorText:this.state.error.detail,style:k.styles.formItem,onChange:function(t,n,a){return e.setSecondType(a)}},this.renderMenuItem(k.types[this.state.task.type[0]]||[])),c.default.createElement("br",null),c.default.createElement(g.default,{floatingLabelText:"数量",floatingLabelStyle:{color:"gray"},value:this.state.task.num,errorText:this.state.error.num,style:k.styles.formItem,onChange:function(t,n){return e.handleChange(n,"num")}}),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"现处地址(空则随机)",floatingLabelStyle:{color:"gray"},value:this.state.task.from,errorText:this.state.error.from,style:k.styles.formItem,onChange:function(t,n,a){return e.handleChange(a,"from")}},this.renderMenuItem(C)),c.default.createElement("br",null),c.default.createElement("div",null,c.default.createElement(d.default,{floatingLabelText:"仓",floatingLabelStyle:{color:"gray"},value:this.state.task.repository_id,errorText:this.state.error.repository_id,style:{width:100},onChange:function(t,n,a){return e.handleChange(a,"repository_id")}},this.renderMenuItem([1,2,3])),c.default.createElement(d.default,{floatingLabelText:"架",floatingLabelStyle:{color:"gray"},value:this.state.task.location_id,errorText:this.state.error.location_id,style:{width:100},onChange:function(t,n,a){return e.handleChange(a,"location_id")}},this.renderMenuItem([1,2,3,4,5,6,7,8,9,10])),c.default.createElement(d.default,{floatingLabelText:"层",floatingLabelStyle:{color:"gray"},value:this.state.task.layer,errorText:this.state.error.layer,style:{width:100},onChange:function(t,n,a){return e.handleChange(a,"layer")}},this.renderMenuItem([1,2,3])),c.default.createElement("p",{style:{width:300,color:"gray",margin:0,fontSize:12}},"目的地址(空则为系统分配)")),c.default.createElement("br",null),c.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},c.default.createElement(E.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),c.default.createElement(E.default,{label:"确认",primary:!0,onTouchTap:this.move}))))}}]),t}(c.default.Component);t.default=O},255:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(64),f=n(256),d=a(f),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stepIndex:1},n}return o(t,e),u(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(c.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"填写出库单")),s.default.createElement(c.Step,null,s.default.createElement(c.StepLabel,null,"完成出库"))),s.default.createElement(d.default,null))}}]),t}(s.default.Component);t.default=p},256:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(55),f=n(135),d=a(f),p=n(32),m=a(p),y=n(25),h=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={task:{},open:!1,mes:""},n.renderRow=n.renderRow.bind(n),n.closeBar=n.closeBar.bind(n),n.putaway=n.putaway.bind(n),n}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("outtask"));void 0===e.from&&(e.from=(0,y.randomNum)(1,3)+" 仓 "+(0,y.randomNum)(1,10)+" 架 "+(0,y.randomNum)(1,3)+" 层 "),e.id=(0,y.makeId)(),e.type=e.type.join("-"),this.setState({task:e})}},{key:"renderRow",value:function(){var e=this.state.task,t=[];for(var n in e)if(y.formName[n]){var a=!("estimated_export_time"===n),r=s.default.createElement(c.TableRow,{key:n},s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},y.formName[n]),s.default.createElement(c.TableRowColumn,{style:{fontSize:16}},a?e[n]:(0,y.parsetime)(e[n],0)));t.push(r)}return t}},{key:"cancel",value:function(){(0,y.changeHash)("out")}},{key:"putaway",value:function(){sessionStorage.removeItem("task"),this.setState({mes:"移动成功，3秒后返回移动页面",open:!0}),setTimeout(function(){return(0,y.changeHash)("out")},3e3)}},{key:"closeBar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({open:!1}),1===e&&(0,y.changeHash)("out")}},{key:"render",value:function(){var e=this;return s.default.createElement("div",null,s.default.createElement(c.Table,{selectable:!1,style:{width:"80%",margin:"0 auto"}},s.default.createElement(c.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},this.renderRow())),s.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},s.default.createElement(m.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),s.default.createElement(m.default,{label:"确认",primary:!0,onTouchTap:this.putaway})),s.default.createElement(d.default,{open:this.state.open,message:this.state.mes,autoHideDuration:3e3,onRequestClose:this.closeBar,action:"立即跳转",onActionTouchTap:function(){return e.closeBar(1)}}))}}]),t}(s.default.Component);t.default=h},257:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(137),d=n(55),p=n(38),m=a(p),y=n(132),h=a(y),b=n(54),g=a(b),v=n(79),_=a(v),E=n(99),w=a(E),T=n(94),k=a(T),C=n(32),O=a(C),S=n(37),x=(a(S),n(25)),j=n(108),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(j),R=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={task:{},sort:1},n.handleChange=n.handleChange.bind(n),n.meunClick=n.meunClick.bind(n),n}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=x.testOut;for(var t in e)e[t].number=Math.floor(9998*Math.random()+1);this.setState({task:e})}},{key:"handleChange",value:function(e,t,n){var a=this.state.task;switch(n){case 1:a=a.sort(P.sortById);break;case 2:a=a.sort(P.sortByType);break;case 3:a=a.sort(P.sortByNum);break;case 4:a=a.sort(P.sortByImportTime);break;case 5:a=a.sort(P.sortByFromPlace);break;case 6:a=a.sort(P.sortByToPlace)}this.setState({sort:n,task:a})}},{key:"renderRow",value:function(){return this.state.task.map(this.renderRowColumn)}},{key:"renderRowColumn",value:function(e){var t=e.material,n=(0,x.parsetime)(t.location_update_time),a=(0,x.parseTaskPlace)(t),r=u(a,2),l=r[0],o=r[1];return c.default.createElement(d.TableRow,{key:t.id},c.default.createElement(d.TableRowColumn,null,t.id),c.default.createElement(d.TableRowColumn,null,t.type),c.default.createElement(d.TableRowColumn,null,e.number),c.default.createElement(d.TableRowColumn,{style:{overflow:"visible"}},n),c.default.createElement(d.TableRowColumn,null,l),c.default.createElement(d.TableRowColumn,null,o),c.default.createElement(d.TableRowColumn,null,c.default.createElement(O.default,{label:"详情"})))}},{key:"addPutaway",value:function(){(0,x.changeHash)("move")}},{key:"meunClick",value:function(e,t){if("printTable"===t.key){var n=new Table2Excel,a="出库单"+(0,x.parsetime)(new Date,2);n.export(document.getElementsByClassName("tablePrint")[1],a)}if("printBar"===t.key){var r=this.state.task;for(var l in r)(0,x.downloadBarCode)(r[l].material.id)}}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.Toolbar,null,c.default.createElement(f.ToolbarGroup,{firstChild:!0},c.default.createElement(k.default,{value:this.state.sort,onChange:this.handleChange,iconStyle:{fill:"black"}},c.default.createElement(m.default,{value:1,primaryText:"默认排序"}),c.default.createElement(m.default,{value:2,primaryText:"物资类型"}),c.default.createElement(m.default,{value:3,primaryText:"物资数量"}),c.default.createElement(m.default,{value:4,primaryText:"下单时间"}),c.default.createElement(m.default,{value:5,primaryText:"原始位置"}),c.default.createElement(m.default,{value:6,primaryText:"目的地址"}))),c.default.createElement(f.ToolbarGroup,null,c.default.createElement(f.ToolbarTitle,{text:"Options"}),c.default.createElement(_.default,{className:"muidocs-icon-custom-sort"}),c.default.createElement(f.ToolbarSeparator,null),c.default.createElement(O.default,{label:"新建出库单",primary:!0,onTouchTap:this.addPutaway}),c.default.createElement(h.default,{iconButtonElement:c.default.createElement(g.default,{touch:!0},c.default.createElement(w.default,null)),onItemTouchTap:this.meunClick},c.default.createElement(m.default,{primaryText:"打印出库单",key:"printTable"}),c.default.createElement(m.default,{primaryText:"打印条形码",key:"printBar"})))),c.default.createElement(d.Table,{selectable:!1,className:"tablePrint"},c.default.createElement(d.TableBody,{displayRowCheckbox:!1,deselectOnClickaway:!1},c.default.createElement(d.TableRow,null,c.default.createElement(d.TableRowColumn,null,"物资编号"),c.default.createElement(d.TableRowColumn,null,"物资类型"),c.default.createElement(d.TableRowColumn,null,"物资数量"),c.default.createElement(d.TableRowColumn,null,"下单时间"),c.default.createElement(d.TableRowColumn,null,"原始位置"),c.default.createElement(d.TableRowColumn,null,"目的地址"),c.default.createElement(d.TableRowColumn,null,"详情")),this.renderRow.call(this))))}}]),t}(c.default.Component);t.default=R},258:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(96),d=a(f),p=n(97),m=a(p),y=n(38),h=a(y),b=n(39),g=a(b),v=n(130),_=(a(v),n(32)),E=a(_),w=n(192),T=a(w),k=n(25),C=[],O=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={secondType:[],task:{},error:{},locationVisible:!1,dataSource:["1491451593158","1491451593200"]},n.handleChange=n.handleChange.bind(n),n.cancel=n.cancel.bind(n),n.move=n.move.bind(n),n.setType=n.setType.bind(n),n.setId=n.setId.bind(n),n}return o(t,e),i(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(sessionStorage.getItem("task"));e||(e={type:[],num:""}),this.setState({task:e})}},{key:"handleChange",value:function(e,t){var n=this.state.task,a=this.state.error;n[t]=e,a[t]="",this.setState({task:n})}},{key:"setType",value:function(e){var t=this.state.task,n=this.state.error;t.type[0]=e,n.type="",this.setState({task:t})}},{key:"setSecondType",value:function(e){var t=this.state.task,n=this.state.error;t.type[1]=e,n.type="",this.setState({task:t}),C=[];for(var a=0;a<10;a++){var r=(0,k.randomNum)(1,3),l=(0,k.randomNum)(1,10),o=(0,k.randomNum)(1,3);C.push(r+" 仓 "+l+" 架 "+o+" 层 ")}}},{key:"setId",value:function(e){var t=this.state.task,n=this.state.error;if(t.id=e,n.id="",13===e.length){t.type[0]="生活电器",t.type[1]="生活电器";for(var a=0;a<10;a++)C.push((0,k.randomNum)(1,3)+" 仓 "+(0,k.randomNum)(1,10)+" 架 "+(0,k.randomNum)(1,3)+" 层 ")}this.setState({task:t})}},{key:"renderMenuItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];if(1===t)return e.map(function(e,t){return c.default.createElement(h.default,{value:e,key:t,primaryText:e})});if(2===t){for(var a in e){var r=c.default.createElement(h.default,{value:a,key:a,primaryText:a});n.push(r)}return n}}},{key:"cancel",value:function(){sessionStorage.removeItem("outtask");var e=this.state.task;for(var t in e)e[t]=null,"num"!==t&&"id"!==t||(e[t]=""),"type"===t&&(e[t]=[]);this.setState({task:e})}},{key:"move",value:function(){var e=this.state.task,t=(0,k.objIsEmpty)(e),n=u(t,2),a=n[0],r=n[1];if(a){var l={};return r.map(function(e){return l[e]="请填写完整!"}),this.setState({error:l}),!1}sessionStorage.setItem("outtask",JSON.stringify(e)),(0,k.changeHash)("outEnsure")}},{key:"render",value:function(){var e=this;return c.default.createElement(m.default,null,c.default.createElement("div",{style:k.styles.container},c.default.createElement(T.default,{floatingLabelText:"物品编号(可不填)",floatingLabelStyle:{color:"gray"},value:this.state.task.id||"",errorText:this.state.error.id,style:k.styles.formItem,dataSource:this.state.dataSource,onUpdateInput:this.setId}),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"类型",floatingLabelStyle:{color:"gray"},value:this.state.task.type[0],errorText:this.state.error.type,style:k.styles.formItem,onChange:function(t,n,a){return e.setType(a)}},this.renderMenuItem(k.types,2)),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"详细",floatingLabelStyle:{color:"gray"},value:this.state.task.type[1],errorText:this.state.error.detail,style:k.styles.formItem,onChange:function(t,n,a){return e.setSecondType(a)}},this.renderMenuItem(k.types[this.state.task.type[0]]||[])),c.default.createElement("br",null),c.default.createElement(g.default,{floatingLabelText:"数量",floatingLabelStyle:{color:"gray"},value:this.state.task.num,errorText:this.state.error.num,style:k.styles.formItem,onChange:function(t,n){return e.handleChange(n,"num")}}),c.default.createElement("br",null),c.default.createElement(d.default,{floatingLabelText:"现处地址(空则随机)",floatingLabelStyle:{color:"gray"},value:this.state.task.from,errorText:this.state.error.from,style:k.styles.formItem,onChange:function(t,n,a){return e.handleChange(a,"from")}},this.renderMenuItem(C)),c.default.createElement("br",null),c.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"80%",margin:"20 auto"}},c.default.createElement(E.default,{label:"重新填写",primary:!0,onTouchTap:this.cancel}),c.default.createElement(E.default,{label:"确认",primary:!0,onTouchTap:this.move}))))}}]),t}(c.default.Component);t.default=O},259:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),s=a(i),c=n(258),f=a(c),d=n(64),p=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={stepIndex:0},n}return o(t,e),u(t,[{key:"setStep",value:function(e){this.setState({stepIndex:e})}},{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(d.Stepper,{activeStep:this.state.stepIndex,style:{width:"60%",margin:"0 auto"}},s.default.createElement(d.Step,null,s.default.createElement(d.StepLabel,null,"填写出库单")),s.default.createElement(d.Step,null,s.default.createElement(d.StepLabel,null,"完成出库"))),s.default.createElement(f.default,null))}}]),t}(s.default.Component);t.default=p},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.general_table=t.key_value_table=void 0;var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(55);t.key_value_table=function(e){if(void 0!==e)return r.default.createElement(l.Table,null,r.default.createElement(l.TableBody,{displayRowCheckbox:!1,stripedRows:!0,selectable:!1},Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t,n){return r.default.createElement(l.TableRow,{key:n},r.default.createElement(l.TableRowColumn,{style:{overflow:"visible"}},t),r.default.createElement(l.TableRowColumn,{style:{overflow:"visible"}},e[t]))})))},t.general_table=function(e,t,n){return r.default.createElement(l.Table,null,r.default.createElement(l.TableHeader,{displaySelectAll:!1,adjustForCheckbox:!1},r.default.createElement(l.TableRow,null,e.map(function(e,t){return r.default.createElement(l.TableHeaderColumn,{key:t},e[0])}))),r.default.createElement(l.TableBody,{displayRowCheckbox:!1,stripedRows:!0,selectable:!1},t.map(function(a,o){return r.default.createElement(l.TableRow,{key:o,onTouchTap:function(){return n&&n(a,o,t)}},e.map(function(e){return r.default.createElement(l.TableRowColumn,{style:{overflow:"visible"}},a[e[1]])}))})))}},261:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCtlTextField=t.ConfirmCtlTextField=t.LenCtlTextField=t.RegCtlTextField=t.lenJudger=t.regJudger=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1),c=a(s),f=n(39),d=a(f),p=t.regJudger=function(e){return function(t){return e.test(t)}},m=t.lenJudger=function(e,t){return function(n){var a=n.length;return a>e&&a<t}},y=t.RegCtlTextField=function(e){return c.default.createElement(g,i({},e,{judgeFunc:p(e.reg)}))};y.propTypes={reg:c.default.PropTypes.object,errString:c.default.PropTypes.string},y.defaultProps={reg:/don"t forget it/i,errString:"Please input suit value!"};var h=t.LenCtlTextField=function(e){return c.default.createElement(g,i({},e,{judgeFunc:m(e.minl,e.maxl)}))};h.propTypes={minl:c.default.PropTypes.number,maxl:c.default.PropTypes.number,errString:c.default.PropTypes.string},h.defaultProps={minl:0,maxl:100,errString:"Length of text mast between 0 and 100!"};var b=t.ConfirmCtlTextField=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={upValue:"",downValue:"",upIsErr:!1,upErrString:"",downErrString:""},n.divDefaultStyle={display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column"},n.tfDivDefaultStyle={margin:"10px 0",height:88},n.confirmJudgeFunc=n.confirmJudgeFunc.bind(n),n.upHandleOnChange=n.upHandleOnChange.bind(n),n.upHandleOnBlur=n.upHandleOnBlur.bind(n),n.downHandleOnBlur=n.downHandleOnBlur.bind(n),n.downHandleOnChange=n.downHandleOnChange.bind(n),n}return o(t,e),u(t,[{key:"confirmJudgeFunc",value:function(){var e=this.state;e.upValue.length>0&&e.downValue.length>0&&(e.upValue===e.downValue?(this.setState({downErrString:""}),this.props.callback(e.upValue)):(this.setState({downErrString:this.props.confirmErrString}),this.props.errCallback(e.upValue,e.downValue)))}},{key:"upHandleOnChange",value:function(e){this.setState({upValue:e.target.value}),!1!==this.state.upIsErr&&(this.props.judgeFunc(e.target.upValue)?this.setState({upErrString:""}):this.setState({upErrString:this.props.errString}))}},{key:"upHandleOnBlur",value:function(){this.props.judgeFunc(this.state.upValue)?(this.setState({upIsErr:!1,upErrString:""}),this.confirmJudgeFunc()):(this.setState({upIsErr:!0,upErrString:this.props.errString}),this.props.errCallback(this.state.upValue,this.state.downValue))}},{key:"downHandleOnChange",value:function(e){this.setState({downValue:e.target.value})}},{key:"downHandleOnBlur",value:function(){this.confirmJudgeFunc()}},{key:"render",value:function(){var e=Object.assgin({},this.divDefaultStyle,this.props.divStyle),t=Object.assgin({},this.tfDivDefaultStyle,this.props.tfStyle);return c.default.createElement("div",{style:e},c.default.createElement("div",{style:t},c.default.createElement(d.default,i({},this.props,{type:"password",errorText:this.state.upErrString,onChange:this.upHandleOnChange,onBlur:this.upHandleOnBlur}))),c.default.createElement("div",{style:t},c.default.createElement(d.default,{floatingLabelText:"Input Again",type:"password",errorText:this.state.downErrString,onChange:this.downHandleOnChange,onBlur:this.downHandleOnBlur})))}}]),t}(s.Component);b.propTypes={divStyle:c.default.PropTypes.object,tfStyle:c.default.PropTypes.object,errString:c.default.PropTypes.string,confirmErrString:c.default.PropTypes.string,errCallback:c.default.PropTypes.func,callback:c.default.PropTypes.func},b.defaultProps={divStyle:{},tfStyle:{margin:"10px 0"},errCallback:function(){return console.log("error value")},callback:function(){return console.log("true value")},errString:"Your input is wrong",confirmErrString:"Two inputs don't match the confirmation"};var g=t.BaseCtlTextField=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isError:0,value:"",errValue:""},n.ctlJudge_and_changeText=n.ctlJudge_and_changeText.bind(n),n.handleOnChange=n.handleOnChange.bind(n),n.handleOnBlur=n.handleOnBlur.bind(n),n}return o(t,e),u(t,[{key:"ctlJudge_and_changeText",value:function(e,t){var n=this.state.value;(0,this.props.judgeFunc)(n)?(this.setState({errValue:""}),e&&e(n)):(this.setState({errValue:this.props.errString}),t&&t(n))}},{key:"handleOnChange",value:function(e){this.setState({value:e.target.value}),1===this.state.isError&&this.ctlJudge_and_changeText()}},{key:"handleOnBlur",value:function(){var e=this;this.ctlJudge_and_changeText(function(t){e.setState({isError:0}),e.props.callback(t)},function(t){e.setState({isError:1}),e.props.errCallback(t)})}},{key:"render",value:function(){return c.default.createElement(d.default,i({},this.props,{errorText:this.state.errValue,onChange:this.handleOnChange,onBlur:this.handleOnBlur}))}}]),t}(s.Component);g.propTypes={judgeFunc:c.default.PropTypes.func.isRequired,errString:c.default.PropTypes.string,errCallback:c.default.PropTypes.func,callback:c.default.PropTypes.func},g.defaultProps={judgeFunc:function(e){return e},errString:"Your input is wrong!",errCallback:function(){return console.log("error value")},callback:function(){return console.log("true value")}}},262:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=a(s),f=n(131),d=a(f),p=n(37),m=a(p),y=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={open:!1},n.handleDialogOpen=n.handleDialogOpen.bind(n),n.handleDialogClose=n.handleDialogClose.bind(n),n.title="info",n.info="info",n}return o(t,e),i(t,[{key:"Open",value:function(e,t){this.title=e,this.info=t,this.handleDialogOpen()}},{key:"Close",value:function(){this.handleDialogClose()}},{key:"handleDialogOpen",value:function(){this.setState({open:!0})}},{key:"handleDialogClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=[c.default.createElement(m.default,{label:"Cancel",primary:!0,keyboardFocused:!0,onTouchTap:this.handleDialogClose})];return this.props.anotherButton&&e.push(this.props.anotherButton),c.default.createElement(d.default,u({},this.props,{title:this.title,actions:e,modal:!1,open:this.state.open,onRequestClose:this.handleDialogClose}),this.info)}}]),t}(s.Component);t.default=y,y.propTypes={anotherButton:c.default.PropTypes.element},y.defaultProps={}},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={100:"物资处于正确位置中",101:"物资已出库",200:"物资信息录入完毕，正在搬运入库",201:"物资从原位置搬运到一个新的位置",202:"物资正在搬运出库",300:"物资信息录入完毕，未入库",301:"物资位置在系统中已变换，但是未搬运到新的位置",302:"物资在系统中已申请出库，但是未搬运出库",303:"物资位置错误",400:"物资找不到"},r={500:"移动入库",501:"移动到新位置",502:"移动出库",601:"校正物资错误位置",602:"修复系统无法识别问题"},l={0:"未开始",1:"进行中",2:"完成",3:"任务取消"},o={0:"管理员",1:"员工",99:"root"},u={1:"位置错误",2:"无法识别"},i=(t.humanise_schedule=function(e){var t=e.type,n=new Date(e.time),a=e.other;if(-1===t)return"未设置";if(0===t)return"每天 "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" 自动盘点";if(1===t)return"每周 周"+(a+1)+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" 自动盘点";if(2===t)return"每月 "+(a+1)+"号 "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" 自动盘点";if(3===t){var r=Math.floor(a/86400);a%=86400;var l=Math.floor(a/3600);a%=3600;var o=Math.floor(a/60);a%=60;var u="";return 0!==r&&(u+=r+"天"),0!==l&&(u+=l+"小时"),0!==o&&(u+=o+"分钟"),0!==a&&(u+=a+"秒"),"从 "+i(n)+" 起每隔 "+u+" 盘点一次"}},t.humanise_error_code=function(e){return u[e]||"Invalid"},t.humanise_task_var=function(e){return(e<100?l[e]:r[e])||"Invalid"},t.humanise_material_var=function(e){return a[e]||"Invalid"},t.humanise_staff_var=function(e){return o[e]||"Invalid"},t.humanise_material_position=function(e,t,n){return 0===e?"入库":-1===e?"出库":e+"仓"+t+"号位置"+n},t.humanise_date=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()})},624:function(e,t,n){e.exports=n(239)}},[624]);